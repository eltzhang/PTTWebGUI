$.ajaxSetup({cache:true});var isborwserVersionSP2=(window.navigator.userAgent.indexOf("SV1")!=-1);var skipDisableButtons=false;var skipDisableButtonsAlways=false;var defaultMaxRows=0;var inBeforeUnloadFlag=false;var ELEMENT_NODE=1;var TEXT_NODE=3;var IS_JQ_PANEL_ON=false;var IS_CHAT_PANEL_ON=false;var IS_SEGMENTED_FILED_OPEN=false;var isNav=false;var isIE=false;var isIE6=false;var isIE7=false;var isIE8=false;var isIE9=false;var isIE10=false;var isIE11=false;var isSafari3=false;var isChrome=false;var isWebKit=false;var isSafari=false;var userAgent=navigator.userAgent.toLowerCase();var broswerVersion=$.browser.version;if(navigator.appName=="Microsoft Internet Explorer"){isIE=true;if(broswerVersion.indexOf("6.")==0){isIE6=true}else{if(broswerVersion.indexOf("7.")==0){isIE7=true}else{if(broswerVersion.indexOf("8.")==0){isIE8=true}else{if(broswerVersion.indexOf("9.")==0){isIE9=true}else{if(broswerVersion.indexOf("10.")==0){isIE10=true}}}}}}else{isChrome=/chrome/.test(userAgent);isSafari3=/webkit/.test(userAgent)&&!/chrome/.test(userAgent);isWebKit=/webkit/.test(userAgent);if(!isWebKit){isNav=true}}if(userAgent.indexOf("rv:11.")>-1){isNav=false;isIE=true;isIE11=true}var decimalSeparator;var groupingSeparator;var dotRE=/[.]/g;var commaRE=/[,]/g;var localeDotRE=eval("/["+decimalSeparator+"]/g");var localeCommaRE=eval("/["+groupingSeparator+"]/g");var nonDigitRE=/[^0-9.-]/g;var dot=".";var comma=",";var minus="-";var empty="";function isValidInt(b){var a=b;b=b+empty;if(b.indexOf(groupingSeparator)>-1){b=b.replace(localeCommaRE,empty);if(setSeparators(b)!=a){return false}}var c=b+empty;b=b*1;if(isNaN(b)||b*1!=c*1){return false}return true}function isValidIntegerValue(c){var b=c;c=c+empty;if(c.indexOf(groupingSeparator)>-1){c=c.replace(localeCommaRE,empty);if(setSeparators(c)!=b){return false}}var f=c+empty;c=c*1;var a;try{a=parseInt(c)}catch(d){}if(isNaN(c)||c*1!=f*1||a!=c){return false}return true}function isValidFloat(b){var a=b;b=b+empty;if(b.indexOf(groupingSeparator)>-1){b=b.replace(localeCommaRE,empty);b=b.replace(localeDotRE,dot);if(setSeparators(b)!=a){return false}}else{b=b.replace(localeDotRE,dot)}var c=b+empty;b=parseFloat(b);if(isNaN(b)||b!=c){return false}return true}function isValidTime(d){if(isValidInt(d)){if(d>0&&d<13){return true}else{return false}}var c=d.indexOf(":");if(c==-1){return false}var a=d.substring(0,c);var b=d.substring(c+1);if(!isValidInt(parseFloat(a))){return false}if(!isValidInt(parseFloat(b))){return false}if(a<0||a>13){return false}if(b<0||b>59){return false}return true}function getNumberFromLocaleNumber(a){number=a+empty;number=number.replace(localeCommaRE,empty);number=number.replace(localeDotRE,dot);number=number.replace(nonDigitRE,empty);var b=number;number=parseFloat(number);if(isNaN(number)||number!=b){return 0}return number*1}function getLocaleNumberFromNumber(a,c){var b=a+empty;a=parseFloat(a);if(isNaN(a)||a!=b){return empty}if(typeof c!="undefined"&&c>0){a=a.toFixed(c)}if(a==0){a=0;a=a.toFixed(c)}a=setSeparators(a);return a}function FormatFloat(b,a){b=parseFloat(b);if(isNaN(b)){return b}return b.toFixed(a)}function setSeparators(e){e=e+empty;var d=empty;var b=empty;var k=0;var a;var c=e.indexOf(dot);if(c>-1){b=e.substr(c)}else{c=e.length}if(e.indexOf(minus)==0){d=minus;k=1}a=e.substring(k,c);var l=a.length;var g=a.charAt(0);for(var f=1;f<l;f++){if((l-f)%3==0){g+=comma}g+=a.charAt(f)}b=b.replace(dotRE,decimalSeparator);g=g.replace(commaRE,groupingSeparator);e=d+g+b;return e}function isNumber(a){if(a.length==0){return false}for(i=0;i<a.length;i++){cNum=a.charAt(i);if((cNum!=decimalSeparator&&cNum!=groupingSeparator)&&(isNaN(cNum))){return false}}return true}function numbersonly(b){var a=(b.which)?b.which:event.keyCode;if(a>31&&(a<48||a>57)){return false}return true}function beforeUnload(){inBeforeUnloadFlag=true;disableButtons()}function disableButtons(){if(!skipDisableButtons&&!skipDisableButtonsAlways){document.body.style.cursor="wait";var a=document.getElementsByTagName("input");var e=a.length;for(var b=0;b<e;b++){var d=a[b];if(d&&d.type&&(d.type.toLowerCase()=="submit"||d.type.toLowerCase()=="reset"||d.type.toLowerCase()=="button")){if(d.disabled==false){d.disabled=true}}}var c=document.getElementById("actionMenuTitle");if(c!=null){c.style.color="#b49790";c.style.cursor="wait";c.onclick="";c.onmouseover="";c.onmouseout=""}}skipDisableButtons=true}function enableButtons(){document.body.style.cursor="";var a=document.getElementsByTagName("input");var e=a.length;for(var b=0;b<e;b++){var d=a[b];if(d&&d.type&&(d.type.toLowerCase()=="submit"||d.type.toLowerCase()=="reset"||d.type.toLowerCase()=="button")){if(d.disabled==true){d.disabled=false}}}var c=document.getElementById("actionMenuTitle");if(c!=null){c.style.color="black";c.style.cursor=""}skipDisableButtons=false}function buttonOnMouseOver(b){genWindowEvent(b);var a=window.event.srcElement;if(a&&a.type=="button"&&!a.disabled){a.className+=" formButtonhover"}}function buttonOnMouseOut(b){genWindowEvent(b);var a=window.event.srcElement;a.className=a.className.replace("formButtonhover","")}function attachEventsToButtons(){}function buttonOnHelpMouseOver(b){genWindowEvent(b);var a=window.event.srcElement;a.className+=" formHelpButtonhover"}function buttonOnHelpMouseOut(b){genWindowEvent(b);var a=window.event.srcElement;a.className=a.className.replace("formHelpButtonhover","")}function attachEventsToHelpButtons(){if(document){var a=document.getElementsByTagName("input");var d=a.length;for(var b=0;b<d;b++){var c=a[b];if(c&&c.type&&(c.type.toLowerCase()=="submit"||c.type.toLowerCase()=="reset"||c.type.toLowerCase()=="button")){if(typeof(c.attachEvent)=="undefined"){c.addEventListener("mouseover",buttonOnHelpMouseOver,false);bj.addEventListener("mouseout",buttonOnHelpMouseOut,false)}else{c.attachEvent("onmouseover",buttonOnHelpMouseOver);c.attachEvent("onmouseout",buttonOnHelpMouseOut)}if(c.disabled){c.style.color="#999999"}}}}}function isValidDate(b,d,c){if(isNaN(b)||isNaN(d)||isNaN(c)){return false}if(d<1||d>12){return false}if(b<1||b>31){return false}if((d==4||d==6||d==9||d==11)&&(b==31)){return false}if(c.length<4){return false}if(d==2){var a=(c%4==0&&(c%100!=0||c%400==0));if(b>29||(b==29&&!a)){return false}}return true}function validateDate(b,a,c){if(isValidDateWithFormat(b,a)){return true}else{alert(c+" ("+a.toUpperCase()+")");b.select();b.focus();return false}}function isValidDateWithFormat(c,a){if(c==null){return true}var m=c.value;if(m==null||trim(m)==""){return true}if(m.length>0&&(a.length>0)){var e="MM";var d="DD";var g="YYYY";var f;var b=a.toUpperCase().indexOf(e);var l=a.toUpperCase().indexOf(d);var k=a.toUpperCase().indexOf(g);if(b>0){f=a.substr(b-1,1)}else{f=a.substr(l-1,1)}var n=m.split(f);if((l<k&&l>b)){if(!isValidDate(n[1],n[0],n[2])){return false}}else{if((b<k&&b>l)){if(!isValidDate(n[0],n[1],n[2])){return false}}else{if((b>k&&b<l)){if(!isValidDate(n[2],n[1],n[0])){return false}}}}}return true}var RETURN_CODE_RELOAD=1;var RETURN_CODE_SESSION_DISCONNECT=-1;var retunrValueArguments=new Array();var retunrValueMethod=null;function setAdditionalCallBack(a){retunrValueMethod=a;retunrValueArguments=new Array();argIndex=0;while(arguments.length>argIndex){retunrValueArguments[argIndex-1]=arguments[argIndex];argIndex++}}function modalWindowCallBack(a){}function modalWindowCallBackStep2(a){return}function convertOptionsToFF(g){var f="";var l=g.split(";");g="";var a=h=0;for(var e=0;e<l.length;e++){var d=l[e].split(":");var c=d[0].toLowerCase();var b=d[1];switch(c){case"dialogheight":f+="height="+b;h=b;break;case"dialogwidth":f+="width="+b;a=b;break;case"dialogtop":f+="top="+b;bNoCenter=true;break;case"dialogleft":f+="left="+b;bNoCenter=true;break;case"status":f+="status="+b;break;case"help":f+="help="+b;break}f+=","}if(a==0){a=550;f+="width="+a+","}if(h==0){h=400;f+="height="+h+","}if(a!=""||h!=""){h+="";a+="";h=h.match(/\d*/);a=a.match(/\d*/);f+="screenX="+((screen.availWidth-a)/2)+",";f+="screenY="+((screen.availHeight-h)/2)+","}f+="modal=yes,";f+="dialog=yes,";f+="scrollbars=yes";return f}function fgShowModalDialog(d,c,f,b,a,g){closeAnySocialBarModal();var e=false;if(typeof f!="undefined"&&f!=""&&f!=null&&f>600){e=true}showDialogPanel(d,"",true,false,e,c)}function showTimeSheetVerificationCommentsPanel(f){if(typeof($("#modalChatPanel"))!="undefined"&&$("#modalChatPanel")!=null){closeChatPanel()}var b=$(f).attr("name");var a=$(f).attr("id");showDialogPanel("/daily_verification_comments.do?timesheetId="+b+"&date="+a,"",true,true,false);var c=$(f).offset();var e=c.top;var d=c.left;if($(f).closest(".splitPan").size()>0){$("#modalChatPanel").css("top",e+25);$("#modalChatPanel").css("left",d+10)}else{$("#modalChatPanel").css("top",e-85);$("#modalChatPanel").css("left",d-20)}}function closeAnySocialBarModal(){var a=["chatForm","reminderForm","starForm"];try{if(window.parent.jQuery){window.parent.$("form").each(function(){var c=$(this).attr("id");if(c=="chatForm"||c=="reminderForm"||c=="starForm"){window.parent.$(this).parents(".dialogPanel").find(".jqmClose").trigger("click");$(this).remove()}})}}catch(b){}}function openModal(d,c,e,b,a,f){fgShowModalDialog(d,c,e,b,a,f)}function windowDimensions(){var a=new Object;a.innerWidth=top.document.body.clientWidth;a.innerHeight=top.document.body.clientHeight;return a}function frameDimensions(){var a=new Object;a.innerWidth=document.body.clientWidth;a.innerHeight=document.body.clientHeight;return a}function windowScrollSize(){var a=new Object;a.pageYOffset=(isWebKit?$("body").scrollTop():$("body,html").scrollTop());a.pageXOffset=(isWebKit?$("body").scrollLeft():$("body,html").scrollLeft());return a}var advisorHiddenArr=null;function advisorToggle(){if($("#advisorBody").css("display")!="none"){hideAdvisor()}else{showAdvisor()}}function hideAdvisor(){if($("#advisorBody").size()==0){return}if($("#advisorLogoImg").hasClass("advisorLogoPreview")){$("#advisorLogoImg").css("border-color","#999999")}if(advisorHiddenArr!=null){var b=advisorHiddenArr.length;for(var a=0;a<b;a++){advisorHiddenArr[a].style.visibility="visible"}}if($("#advisorBody").css("display")!="none"){toggleDisplay("advisorBody")}$("#sb_advisor").removeClass("activeSocialLink");advisorHiddenArr=null}function showAdvisor(p){if($("#advisorBody").size()==0){return}if(p&&$("#advisorLogoImg").size()==0){hideAdvisor();return}if($("#advisorLogoImg").hasClass("advisorLogoPreview")){$("#advisorLogoImg").css("border-color","white");$("#advisorLogoImg").css("zIndex","50")}advisorHiddenArr=new Array();var b=document.forms.length;for(var e=0;e<b;e++){var a=document.forms[e];var c=a.elements.length;for(var d=0;d<c;d++){var l=a.elements[d];if(l.type=="select-one"){l.style.position="relative";if($("#advisorBody").offsetLeft*1<((l.offsetLeft*1)+(l.offsetWidth*1))){if(l.style.visibility!="hidden"&&!l.style.display!="none"){l.style.position="relative";l.style.visibility="hidden";advisorHiddenArr[advisorHiddenArr.length]=l}}}}}if(typeof p=="undefined"||!p){toggleDisplay("advisorBody")}if($("#sb_advisor").size()>0){$("#sb_advisor").addClass("activeSocialLink");var f=0;var o=33;var g=42;var k=$("ul.socialBarButtons>li");k.each(function(m){if($(this).attr("id")=="sb_advisor"){f=k.length-(m+1);return false}});if(isRtl()){$(".cssPointer").css("left",(o+f*g)+"px")}else{$(".cssPointer").css("right",(o+f*g)+"px")}}}function toggleSideBarSection(c,a){var b=document.getElementById(a);if(b.style.display=="none"){b.style.display="";c.childNodes[0].rows[0].cells[0].childNodes[0].src="/images/interface/form_flow_section_down_arrow_unselected.gif"}else{b.style.display="none";c.childNodes[0].rows[0].cells[0].childNodes[0].src="/images/interface/form_flow_section_right_arrow.gif"}}function openSideBarSection(a){var c=document.getElementById(a);var b=document.getElementById(a+"_div");if(c==null||b==null){return}if(c.style.display=="none"){toggleSideBarSection(b,a)}}function textCounter(e,a,d){var b=0;var c;if(e.value!=null){b=e.value.length;c=e.value.match(/\n/g);if(c!=null){b+=c.length}if(b>d){e.value=e.value.substring(0,d);c=e.value.match(/\n/g);tmpcount=0;if(c!=null){tmpcount=c.length;e.value=e.value.substring(0,(d-tmpcount))}a.innerText=0;if(e.onchange){e.fireEvent("onchange")}}else{a.innerText=(d-b)}}else{a.innerText=d}}function popupRemoveWindow(c,b,e,d){var a="Remove";if(typeof e!="undefined"){a=e}generateActionForm(c,d);if(window.confirm(b)){submitActionForm(c,a)}}function popupReopenWindow(c,b,e,d){var a="Reopen";if(typeof e!="undefined"){a=e}generateActionForm(c,d);if(window.confirm(b)){submitActionForm(c,a)}}function popupReactivateWindow(c,b,e,d){var a="Reactivate";if(typeof e!="undefined"){a=e}generateActionForm(c,d);if(window.confirm(b)){submitActionForm(c,a)}}function popupDocumentRemoveWindow(c,b,e,d){var a="Remove";if(typeof e!="undefined"){a=e}if(window.confirm(b)){submitDocumentActionForm(c,a,d)}}function popupPrequalWindow(c,b,d){var a="Pre-Qualify";if(typeof d!="undefined"){a=d}if(window.confirm(b)){}}String.prototype.EndsWith=function(a,e){var d=this.length;var c=a.length;if(c>d){return false}if(e){var b=new RegExp(a+"$","i");return b.test(this)}else{return(c==0||this.substr(d-c,c)==a)}};function submitActionFormForCF(c,g,b,p,f){c=generateActionForm(c,p);if(typeof(f)!="undefined"&&f!=null){if(typeof c.action!="string"){c.customFieldId.value=f}else{if(c.action.EndsWith("jsp",true)||c.action.EndsWith("do",true)){c.action=c.action+"?param="+f}else{c.action=c.action+"&param="+f}}}var k="<>";if(typeof(c.elements.action)=="undefined"||c.elements.action.type!="hidden"){creatFormInputElement(c,"hidden","action",g)}else{c.elements.action.value=g}if((c.elements.scrollPos)&&(g.match(/[<>]/)==null)){c.elements.scrollPos.value=(isWebKit?$("body").scrollTop():$("body,html").scrollTop())}if(typeof(b)!="undefined"&&b!=null){b()}var a=c.elements;var d=c.elements.length;for(var l=0;l<d;l++){var o=a[l];try{if(o.value&&o.type=="text"&&o.value.toUpperCase()==getDateFormat()&&o.className=="info"){o.value=""}}catch(m){}}addCSRFtoForm(c);c.submit()}function generateActionForm(a,b){if(typeof a=="string"){var c=document.createElement("FORM");c.name=a;c.action=b;c.method="post";if(window.name=="previewPaneFrame"&&parent.window.name=="FgBase"){c.target="_parent"}document.body.appendChild(c);a=c;return a}return a}function submitActionAjax2(a,b,c,f,e){if(a==null){return}addCSRFtoForm(a);var d=$(a).serialize()+"&"+$.param(c);$.post(b,d,function(g){f(g,e)})}function submitActionAjax(b,g,p,q,d,l){b=generateActionForm(b,p);if(b==null){return}if(typeof(d)!="undefined"&&d.size()>0){d.attr("disabled","disabled")}if(typeof(b.elements.action)=="undefined"||b.elements.action.type!="hidden"){creatFormInputElement(b,"hidden","action",g)}else{$(b).find(":input[name='action']").val(g)}addCSRFtoForm(b);var a=b.elements;var c=b.elements.length;for(var k=0;k<c;k++){var o=a[k];try{if(o.value&&o.type=="text"&&o.value.toUpperCase()==getDateFormatUILabel()&&o.className=="info"){o.value=""}}catch(m){}}var f=$(b).serialize();$.post(p,f,function(e){if(typeof(d)!="undefined"&&d.size()>0){d.removeAttr("disabled")}if(typeof(q)!="undefined"){q(e)}},l).error(function(){})}function defaultModalPanelFormCb(b){b=trim(b);$(".pBody").css("cursor","");IS_SEGMENTED_FILED_OPEN=false;if("close"==b||"true"==b){if(retunrValueMethod!=null){if(retunrValueArguments.length==0){retunrValueMethod()}else{if(retunrValueArguments.length==1){retunrValueMethod(retunrValueArguments[0])}else{if(retunrValueArguments.length==2){retunrValueMethod(retunrValueArguments[0],retunrValueArguments[1])}else{if(retunrValueArguments.length==3){retunrValueMethod(retunrValueArguments[0],retunrValueArguments[1],retunrValueArguments[2])}else{if(retunrValueArguments.length==4){retunrValueMethod(retunrValueArguments[0],retunrValueArguments[1],retunrValueArguments[2],retunrValueArguments[3])}else{if(retunrValueArguments.length==5){retunrValueMethod(retunrValueArguments[0],retunrValueArguments[1],retunrValueArguments[2],retunrValueArguments[3],retunrValueArguments[4])}else{if(retunrValueArguments.length==6){retunrValueMethod(retunrValueArguments[0],retunrValueArguments[1],retunrValueArguments[2],retunrValueArguments[3],retunrValueArguments[4],retunrValueArguments[5])}}}}}}}retunrValueMethod=null;retunrValueArguments=null;closeDialogPanel()}else{closeDialogPanel();if($("form").size()>0){var a=$("form").get(0);a.submit();return}else{location.reload();return}}}else{if(b=="false"){alert(getMessage("error.unknownError"))}else{$("#modalPanel").html(b);$(".jqmClose").click(closeDialogPanel)}}}function submitModalPanelForm(c){if($(".pBody form").size()==0){return}if(c!=getMessage("label.cancel")&&typeof(IS_SEGMENTED_FILED_OPEN)!="undefined"&&IS_SEGMENTED_FILED_OPEN){alert(getMessage("label.pleaseUpdateSCF"));return false}$('.pBody form input[name="action"]').attr("disabled","disabled");$(".pBody").css("cursor","wait");var b=$(".pBody form").get(0);var a=$(b).attr("action");submitActionAjax(b,c,a,defaultModalPanelFormCb);return}function submitActionForm(d,g,b,m){d=generateActionForm(d,m);if(d==null){return false}if(typeof getMessage!="undefined"){if(g!=getMessage("label.cancel")&&typeof(IS_SEGMENTED_FILED_OPEN)!="undefined"&&IS_SEGMENTED_FILED_OPEN){alert(getMessage("label.pleaseUpdateSCF"));return false}}if($("form[name='"+d.name+"'] #action_htmlId").length==0){creatFormInputElement(d,"hidden","action",g)}else{$("form[name='"+d.name+"'] #action_htmlId").val(g)}if(typeof(b)!="undefined"&&b!=null){b()}if(d.elements.isModalPage!=null||d.elements.isModalPanelPage!=null){var o=$(d).attr("action");submitActionAjax(d,g,o,defaultModalPanelFormCb);return true}var k="<>";addCSRFtoForm(d);if((d.elements.scrollPos)&&(g.match(/[<>]/)==null)){d.elements.scrollPos.value=(isWebKit?$("body").scrollTop():$("body,html").scrollTop())}$("#formBody").addClass("loadingMask");$("#bodyContainer").addClass("loadingMask");var a=d.elements;var f=d.elements.length;try{$("input[type='text'].info").each(function(){if(this.value&&this.value.toUpperCase()==getDateFormatUILabel()){this.value=""}});$("input[type='button']").attr("readonly",true).attr("disabled","disabled");$("input[type='submit']").attr("readonly",true).attr("disabled","disabled")}catch(l){}var p=$(d);var c=p.find("input,select,textarea");if(isIE&&c.length>=5000){asyncSubmit(p,c)}else{d.submit()}return true}function asyncSubmit(a,b){setTimeout(function(){var d=a.attr("enctype");if(typeof d==="undefined"||d===null||d===""){d="x-www-form-urlencoded"}var c=$("<form style='display:none'></form>");c.attr("action",a.attr("action"));c.attr("method",a.attr("method"));c.attr("enctype",d);doAsync({items:b,onItem:function(){c.append($(this))},onComplete:function(){$("body").append(c);setTimeout(function(){c.submit()},1)},chunk:500})},1)}function doAsync(a,c){if(typeof c==="undefined"){c=0}for(var b=0;b<a.chunk&&c<a.items.length;b++,c++){if(c<a.items.length){a.onItem.call(a.items[c],c)}}if(c>=a.items.length){setTimeout(function(){a.onComplete.call()},"delay" in a?a.delay:1);return}setTimeout(function(){doAsync(a,c)},"delay" in a?a.delay:1)}function toggleDisplayFromDisclosureIcon(a){if($("#"+a).css("display")=="none"){$("#"+a).css("display","")}else{$("#"+a).css("display","none")}$("#"+a+"_img").toggleClass("collapseDisclosure expandDisclosure")}function toggleDisplay(a){var b=document.getElementById(a);if(typeof(b)!="undefined"&&b!=null){if(b.style.display=="none"){b.style.display=""}else{b.style.display="none"}return(b.style.display)}}function changeDisplay(a,b){$("#"+b).css("display",a)}function toggleimage(a){if($("#"+a).size()==0){return}if($("#"+a+"[src*='expand.gif']").size()==0){$("#"+a).attr("src","/images/interface/expand.gif")}else{$("#"+a).attr("src","/images/interface/collapse.gif")}}function show(a){$("#"+a).css("display","")}function hide(a){$("#"+a).css("display","none")}function toggleCheckmarks(a,k,b,c){$("#addFields").prop("disabled",true);var e=(b==null?true:false);var l=document.getElementsByName(a);if(c){if(l){if(typeof k=="undefined"&&event){k=event.srcElement.checked}var d=l.length;for(var f=0;f<d;f++){var g=l[f];if(e){if(g&&g.type=="checkbox"&&!g.disabled){if(g.checked!=k&&g.form==c){g.checked=k}}}else{if(g&&g.type=="checkbox"&&!g.disabled&&g.id==b){if(g.checked!=k&&g.form==c){g.checked=k}}}}}}else{if(l){if(typeof k=="undefined"&&event){k=event.srcElement.checked}var d=l.length;for(var f=0;f<d;f++){var g=l[f];if(e){if(g&&g.type=="checkbox"&&!g.disabled){if(g.checked!=k){g.checked=k}}}else{if(g&&g.type=="checkbox"&&!g.disabled&&g.id==b){if(g.checked!=k){g.checked=k}}}}}}}function toggleCheckmarksByNamePrefix(b,d,c){if(b==null||typeof b=="undefined"){return}var e=b.elements.length;for(var a=0;a<e;a++){field=b.elements[a];if(field&&field.type=="checkbox"&&field.name&&field.name.indexOf(d)==0&&!field.disabled){field.checked=c}}}function toggleCheckmarksByNamewithIdPrefix(b,d,f){var a=document.getElementsByName(b);if(a){if(typeof f=="undefined"&&event){f=event.srcElement.checked}var g=a.length;for(var c=0;c<g;c++){var e=a[c];if(e&&e.type=="checkbox"&&!e.disabled&&e.id&&e.id.indexOf(d)==0){if(e.checked!=f){e.checked=f}}}}}function sumNumbersByName(b,g,e){var a=document.getElementsByName(b);if(a==null){return}var d=0;for(var c=0;c<a.length;c++){d+=1*a[c].value}var f=document.getElementById(g);if(f==null){return}f.innerText=getLocaleNumberFromNumber(d,2);if(typeof e!="undefined"){f=document.getElementById(e);if(f!=null){f.value=d}}}function sumNumbersByPrefix(d,f,e){var k=d.elements.length;var c=0;var a=0;for(var b=0;b<k;b++){var g=d.elements[b];if(typeof g.name!=undefined){if(g.name.indexOf(f)==0){if(typeof g.value!=undefined){if(typeof e=="undefined"){c+=getNumberFromLocaleNumber(g.value)}else{if(e[a].checked==true){c+=getNumberFromLocaleNumber(g.value)}}}a++}}}return c}function calcPercentage(a,b){value=(a*b*100)/10000;value=Math.round(value*100)/100;value=FormatFloat(value,2);return value}function isEmpty(a){if(a!=null){if(a.type=="text"||a.type=="textarea"){if(typeof(a.value)!="undefined"&&a.value!=null&&a.value!=""){return false}else{return true}}else{if(a.type=="select-one"){if(typeof(a.value)!="undefined"&&a.value!=null&&a.value!=""){return false}else{return true}}else{if(a.type=="textarea"){if(typeof(a.value)!="undefined"&&a.value!=null&&a.value!=""){return false}else{return true}}else{if(a.type=="radio"){}}}}}return false}function updataTotal(c,b){var a=document.getElementById("addRowTable");var e=a.rows.length;var d=a.rows[c.id-1];if(!c.checked){d.cells[3].childNodes[0].disabled=true;if(b==2){return}}else{d.cells[3].childNodes[0].disabled=false}}function doChkModalText(b,e,d,f){var c;c=b.keyCode;valueLength=e.value.length;var a="";for(i=0;i<=valueLength;i++){if(f){if(!isNaN(e.value.charAt(i))||(e.value.charAt(i)==decimalSeparator)){a+=e.value.charAt(i)}}else{if(!isNaN(e.value.charAt(i))){a+=e.value.charAt(i)}}}e.value=a}getElemByName=function(a){var b=null;if(document.all){b=document.all[a]}if(b){return b}return document.getElementsByName(a)[0]};doactionfill=function(f,g){var m=getElemByName("fillnum");var l=m.value;if(l==""){return}if(isValidFloat(l)==false){alert(g);m.focus();return}var o=new Array();var a=null;for(i=0;i<=f;i++){a=getElemByName("unselectedDistributionLevel"+i);if(a==null||a.disabled||getElemByName("unselectedDistributionPrefType"+i).value==""){continue}o.push(a)}if(o.length==0){return}var e=false;var c=o.length;var b=null;for(var d=0;d<c;d++){b=o[d];b.value=l;if(e==false&&l.indexOf(".")!=-1){b.fireEvent("onBlur");e=true;l=b.value}}if(b!=null){b.fireEvent("onBlur")}m.value=""};doactionfillpreftype=function(b){var a=getElemByName("fillpreftype").selectedIndex;if(a==0){return}var c=null;for(i=0;i<=b;i++){var c=getElemByName("unselectedDistributionPrefType"+i);if(c){c.selectedIndex=a}}};doactions=function(f,c,b){var d;var e=f.name;var a=e.substr(0,10);if(a=="disallowed"){d="disallowedDistributionLevel"+c}else{if(a=="unselected"){d="unselectedDistributionLevel"+c}else{if(e.substr(0,20)=="distributionPrefType"){d="distributionLevel"+c+"index"+b}}}var g=getElemByName(d);if(f.value==4){g.value="";g.style.border="1px solid #7F9DB9";g.style.backgroundColor="#CCCCCC";g.disabled=true;return}if(f.value==0){g.value=""}g.style.backgroundColor="#ffffff";g.style.border="1px solid #7F9DB9";g.style.width="48px";g.style.height="21px";g.disabled=false};showhide_cont=function(c,a){var b=$("#"+c);if(b.css("display")=="none"){b.css("display","");a.src="/images/interface/collapse.gif"}else{b.css("display","none");a.src="/images/interface/expand.gif"}};function showhide_cont_2(b,a){if(a.src.indexOf("expand.gif")>-1){$("."+b).show();a.src="/images/interface/collapse.gif"}else{$("."+b).hide();a.src="/images/interface/expand.gif"}}function resetfields(b){if(b.checked==false){for(var a=1;a<=arguments.length-1;a++){var c=$("[name="+arguments[a]+"]");if(c.size()>0){c.val("");c.get(0).className="";c.get(0).removeAttribute("title")}}}}function chk_on(a,c,b){if(a.value!=""){$("[name="+c+"]").attr("checked",true)}if(!isNumber(a.value)){alert(b);a.value="";a.focus()}}function validateFloat(d,b,a){var c=d.value;if(c!=null&&trim(c)!=""){if(!isValidFloat(c)){d.className="errInputCls";d.title=b;alert(b);d.select();d.focus()}else{d.value=trim(c);d.className="";d.removeAttribute("title")}}else{d.value=trim(c);d.className="";d.removeAttribute("title")}if(a){roundOffValues(d)}}function validatePositive(d,b,a){var c=d.value;if(c!=null&&trim(c)!=""){if(c<0){d.className="errInputCls";d.title=b;alert(b);d.select();d.focus()}}}function validateInteger(c,a){var b=c.value;if(b!=null&&trim(b)!=""){if(!isValidIntegerValue(b)){c.className="errInputCls";c.title=a;alert(a);c.select();c.focus()}else{c.value=trim(b);c.className="";c.removeAttribute("title")}}else{c.value=trim(b);c.className="";c.removeAttribute("title")}}function markRuleOn(c,a){checkBox=c.form[a];var b=c.value;if(b!=null&&trim(b)!=""){checkBox.checked=true}}function reasonSelectOnChange(a,b){if(a.selectedIndex>=0){if(a.options[a.selectedIndex].value==-2){a.blur();reasonSelectDiv.style.display="none";newReasonDiv.style.display="inline";b.newReason.focus()}}}function showReasonSelect(a){a.newReason.blur();newReasonDiv.style.display="none";reasonSelectDiv.style.display="inline";a.reasonId.selectedIndex=0;a.reasonId.focus()}function showReasonSelect_1(a){a.newReason.blur();newReasonDiv.style.display="none";reasonSelectDiv.style.display="inline";a.reason_id.selectedIndex=0;a.reason_id.focus()}function getValueFromPopup(b,c,a,f){var d=[a,f];returnValue=openModal(b,d,450,600);if(returnValue!=null){var e=returnValue.split(";");document.forms[c].elements[a].value=e[0];if(f){document.forms[c].elements[f].value=e[1]}}}function getSearchValueFromPopup(c,d,e){if(e&&e.value=="_ADD_ITEM"){returnValue=openModal(c);if(returnValue){var a=returnValue.split(";");if(e&&e.type=="select-one"){var b=e.length;e.options[b]=new Option(a[1],a[0],true,true)}}}}function setFormValue(c,a,f){var d=document.forms[c];if(d!=null){var e=document.getElementsByName(a);if(e!=null&&e.length>0){for(var b=0;b<e.length;b++){e[b].value=f}}else{creatFormInputElement(d,"hidden",a,f)}}}function submitForm(a){var b=document.forms[a];if(b!=null){if(typeof b.appendChild=="undefined"&&typeof(b[0].appendChild)!="undefined"){b=b[0]}if(b.onsubmit!=null&&typeof(b.onsubmit)!="undefined"){if(!b.onsubmit()){return}}b.submit()}}function listChangeMaxRows(f,c){genWindowEvent(f);var b=document.getElementById(c);if(b==null){return}var d=event.srcElement.value;if(isNaN(d)||d==""||d==null){event.srcElement.value="";return true}var g=document.getElementById(c+"_Div");var a=d*19+((b.offsetWidth>g.offsetWidth)?17:0)+"px";if(b){if(b.rows.length<d){a="auto"}}if(!isIE&&a=="23px"){}if(g!=null){g.style.height=a}if(typeof workflowManagerPage!="undefined"&&workflowManagerPage){$("#oDownload").load(addCSRFTokenToURL("/workflow_manager_rows.jsp?rows="+d))}else{$("#oDownload").load(addCSRFTokenToURL("/list_max_rows.jsp?rows="+d+"&listId="+c))}}function filterValue(a){var c=window.event.srcElement;var b="";if(c.type=="submit"||c.type=="button"){return}for(i=0;i<a.length;i++){if(!isNaN(a.charAt(i))){b=b+a.charAt(i)}}c.value=b}function maxRowsKeyPressEvent(c){genWindowEvent(c);var a=window.event.keyCode;var b=window.event.srcElement;if(a==13){if(!isIE){c.preventDefault()}b.fireEvent("onchange");b.blur();return false}return true}function listViewValidationOnSubmit(a){if(typeof listViewValidationCustomOnSubmitFunction=="undefined"||listViewValidationCustomOnSubmitFunction==null){if(typeof listViewValidationOnSubmitFunction=="undefined"||listViewValidationOnSubmitFunction==null){return true}else{return(listViewValidationOnSubmitFunction(a))}}else{if(typeof listViewValidationOnSubmitFunction=="undefined"||listViewValidationOnSubmitFunction==null){return(listViewValidationCustomOnSubmitFunction(a))}else{if(listViewValidationOnSubmitFunction(a)){return(listViewValidationCustomOnSubmitFunction(a))}else{return false}}}}function listDateRangeValidation(c,f,b,e){if(!validateDate(c.filterStartDate,f,b)){c.filterStartDate.focus();return false}if(!validateDate(c.filterEndDate,f,b)){c.filterEndDate.focus();return false}if(c.filterStartDate&&c.filterEndDate&&c.filterStartDate.value&&c.filterEndDate.value){var a=parseDate(c.filterStartDate.value,f);var d=parseDate(c.filterEndDate.value,f);if(d&&a&&d<a){c.filterStartDate.focus();alert(e);return false}}return true}function listMouseMove(b){genWindowEvent(b);var a=getSrcElement(b);if(a.tagName=="TD"||a.tagName=="NOBR"||a.tagName=="A"){makeListHover(a);if(a.title==""){if($(a).html().indexOf("<script")>-1){}else{a.title=trim($(a).text())}}}return true}function listToggle(e,b,d){genWindowEvent(e);var a=getSrcElement(e);var k=0;if(a.src&&a.src.indexOf("collapse")!=-1){k=1}var c=addCSRFTokenToURL("/list_collapse_save.jsp?listId="+b+"&collapse="+k);$("#oDownload").load(c);var g=document.getElementById("listheaderTable_"+d);var f=document.getElementById(d);if(g!=null&&f!=null){if(k==1){g.style.display="none";f.style.display="none";a.src="/images/interface/expand_white.gif"}else{g.style.display="";g=document.getElementById(d);g.style.display="";a.src="/images/interface/collapse_white.gif"}}else{location.reload()}}function listViewSelectAndAssign(t,a){if(document.getElementsByName(t)==null){return}if(document.getElementsByName("select_"+t)==null){return}var s=(document.getElementsByName(t))[0];var b=s.value;var g=(document.getElementsByName("select_"+t))[0];var l=g.value;if(b==null||b==""||l==null||l==""){return}var x=document.getElementById(a);if(x==null){return}var e=document.getElementById(a+"_changes");if(e==null){return}var o=document.getElementsByName("cSelCheckBox");var u=document.getElementsByName("changedCheckBox");if(o&&o.length>0){disableButtons();var q=o.length;for(var w=0;w<=q-1;w++){var p=o[w];if(p&&p.type=="checkbox"&&!p.disabled){if(p.checked){var d=x.rows[w+1];if(d){d.cells[1].innerText=l;var m=false;if(u){for(var v=0;v<u.length;v++){var y=u[v];if(y.value.indexOf(p.value)!=-1){var f=e.rows[v];f.cells[0].innerHTML=getCheckboxControlHtml("changedCheckBox","","onclick=listViewCopyChangesTable('"+a+"')",false,"",true);$(f.cells[0]).find("[name=changedCheckBox]").val(p.value+"~~"+b+"~~"+l);for(var r=1;r<d.cells.length;r++){if(r<d.cells.length-1||d.cells[r].innerHTML!=""){f.cells[r].innerHTML=d.cells[r].innerHTML}}m=true;break}}}if(!m){e.insertRow(-1);var f=e.rows[e.rows.length-1];var c=f.insertCell(-1);c.innerHTML=getCheckboxControlHtml("changedCheckBox","","onclick=listViewCopyChangesTable('"+a+"')",false,"",true);$(c).find("[name=changedCheckBox]").val(p.value+"~~"+b+"~~"+l);for(var r=1;r<d.cells.length;r++){if(r<d.cells.length-1||d.cells[r].innerHTML!=""){c=f.insertCell(-1);c.innerHTML=d.cells[r].innerHTML;c.style.textAlign=d.cells[r].style.textAlign;c.style.width=d.cells[r].style.width}}}}}}}}listViewCopyChangesTable(a);enableButtons()}function listViewCopyChangesTable(b){return;var a=document.getElementById(b+"_changes");if(a==null){return}if(document.getElementById("changedTableHtml")==null){return}document.getElementById("changedTableHtml").value=a.innerHTML}function setTableCell(c,d,b,a){$("#"+c+" tr:nth-child("+d+") td:nth-child("+b+")").html(a)}function getTableCell(b,c,a){return($("#"+b+" tr:nth-child("+c+") td:nth-child("+a+")").html())}function listViewSubmitToPanel(g,d,c,b){$(".pBody").css("cursor","wait");var e="?";if(d==null||d==""){return}var f=new Object();if(typeof c=="undefined"){c=false}if(!c){var a;if($("#"+g).size()>0){a=$("#"+g).serializeArray()}else{a=$('form[name="'+g+'"]').serializeArray()}jQuery.each(a,function(k,l){f[l.name]=l.value})}if(typeof(_CSRF_TOKEN_NAME)!="undefined"&&typeof(_CSRF_TOKEN_VALUE)!="undefined"){f[_CSRF_TOKEN_NAME]=_CSRF_TOKEN_VALUE}if(typeof(b)!="undefined"&&b!=null&&b!=""){d+=" #"+b}f.rand=(new Date()).getTime();f.listViewPanel=1;if($("#listPanel").size()>0){$("#listPanel").load(d,f)}else{$("#modalPanel").load(d,f)}}function tabcursor(a){if(document.selection&&document.selection.createRange){a.cLocation=document.selection.createRange()}}function inserttext(e,f,d,c){if(e.cLocation){var b=e.cLocation;b.text="#"+f+"#"}else{e.value=e.value+"#"+f+"#"}var a="text_counter_"+e.name;if(c){textCounter(e,$("#"+a).get(0),d)}}function markAll(c,l,b,g){if(b=="objSearch"){var a=c.form.elements.length;for(var d=0;d<a;d++){var e=c.form.elements[d];if(e.type==c.type&&e.name.indexOf(g)!=-1){e.checked=c.checked}}}else{var k=document.getElementsByName(c.name.substr(0,c.name.length-4));if(typeof k=="undefined"){return}var f=k.length;if(f==undefined){k.checked=c.checked;f=0}if(l=="exceptLast"){f--}for(var d=0;d<f;d++){if(k[d].type=="checkbox"&&(!k[d].disabled)){k[d].checked=c.checked}}}}function unMark(a){if(a.checked==false){if($("[name='"+a.name+"_all']").size()>0){$("[name='"+a.name+"_all']").attr("checked",false)}}}function isValidAllocation(c,d,a,b){var e=getNumberFromLocaleNumber(d.value);calculateTotal(c);if(isValidFloat(d.value)){if(e<=100&&e>=0){calculateTotal(c,a)}else{alert(b);setTimeout('document.forms[0].elements["'+d.name+'"].focus()',10);return true}}else{alert(b);setTimeout('document.forms[0].elements["'+d.name+'"].focus()',10);return true}if($("input[name='totalAllocation']").val()!=100){$("input[name='totalAllocation']").css("color","red")}else{$("input[name='totalAllocation']").css("color","black")}}function calculateTotal(c,a){var b=0;$("input[name^='allocationPct_']").each(function(){if(this.type=="text"&&this.value.toString()!=""){b+=parseFloat(this.value.replace(decimalSeparator,"."))}});b=getLocaleNumberFromNumber(((Math.round(b*Math.pow(10,2))/Math.pow(10,2))),a);if(b=="NaN"||b==NaN){b=("0.00").toString().replace(".",decimalSeparator)}$("input[name='allocationPct_']").val(b)}function autoAllocate(form,errMsg,decimalPlaces){var indexes=new Array();for(var i=0;i<form.elements.length;i++){var element=form.elements[i];if(element.name.indexOf("allocationPct_")==0&&element.type=="text"){indexes[indexes.length++]=element.name}}if(indexes.length==0){alert(errMsg)}else{var count=indexes.length;var percentage=(Math.round(100/count*Math.pow(10,2))/Math.pow(10,2));var total=0;for(var i=0;i<count;i++){var temp=percentage;if(i==0&&percentage*count!=100){temp=(percentage+(100-percentage*count));temp=(Math.round(temp*Math.pow(10,2))/Math.pow(10,2))}total+=temp;if(decimalSeparator!=","){eval("form."+indexes[i]).value=getLocaleNumberFromNumber(temp.toString().replace(".",decimalSeparator),decimalPlaces)}else{eval("form."+indexes[i]).value=getLocaleNumberFromNumber(temp.toString(),decimalPlaces)}}form.totalAllocation.value=getLocaleNumberFromNumber(((Math.round(total*Math.pow(10,2))/Math.pow(10,2)).toString().replace(".",decimalSeparator)),decimalPlaces);form.totalAllocation.style.color="black"}}function docActionCallBack(a){if(typeof(a)!="undefined"&&a!=null){a()}else{closeDialogPanel();location.reload()}}function docAction(b,k,m,f,d,a){var g=new Object();var c=new Array();c[0]=k;var e=new Array();e[0]=m;g.objectIds=c;g.personIds=e;var l;if(b.indexOf("?")!=-1){l="&"}else{l="?"}b+=l+"objectId="+k;b+="&personIds="+e;if(typeof(d)!="undefined"&&d!=null&&d!=""){b+="&list="+d}b=addCSRFTokenToURL(b);setAdditionalCallBack(docActionCallBack,f);openModal(b,g,"","","",a)}function doBlankJspAction(a,c){var b=document.getElementById("downloadIframe");if(typeof b!="undefined"){if(typeof c=="undefined"||c==null){c=locationReload}a=addCSRFTokenToURL(a);b.src=a;if(typeof(c)=="undefined"||c==null||c=="null"){if(typeof(b.attachEvent)=="undefined"){b.addEventListener("load",c,false)}else{b.attachEvent("onload",c)}}}}function locationReload(){location.reload()}function getCalendarControlHtml(k,d,f,c,e,g,b,m,a){var l='<div class="calendarPan" role="link" onClick="toggleCalanderByFieldName(event,\''+k+"', '"+f+"','"+c+"','"+e+"')\"'><div class='inputdate'><input class=\"info\" type='text' name='"+k+"' id='"+k+"' style='width:"+d+"px;' maxlength='10' ";if(g!=null&&g!=empty){l+="value='"+g+"' "}else{if((g===empty||g==null||g===undefined)&&(e!==undefined||e!=null)){l+="value='"+e.toUpperCase()+"' "}}if(b!=null){l+="onchange='"+b+"' "}if(m!=null){l+="onfocus=\"clearDateFromDateFormatByFieldName('"+k+"', '"+e+"');"+m+'" '}else{if(m==null||orfocus==undefined){l+="onfocus=\"clearDateFromDateFormatByFieldName('"+k+"', '"+e+"');\""}}if(a!=null){l+="onBlur='"+a+"' "}l+='onkeydown="calendartabEvent(event)"';l+="onDblclick=\"returnDate(this,'"+getDateFormat()+"',"+((b!=""&&b!=null)?true:false)+', true)" ';l+="/></div></div>";return l}function getTextareaControlHtml(a,b,g,f,e,c){f=(typeof(f)=="undefined"?60:f);var d="<TEXTAREA onkeydown=\"textCounter(this, $('#"+a+"_counter').get(0),"+g+')" onkeyup="textCounter(this, $(\'#'+a+"_counter').get(0),"+g+')" onchange="textCounter(this, $(\'#'+a+"_counter').get(0),"+g+");"+b+'" '+((typeof e!="undefined"&&e!=null)?'onfocus="'+e+'"':"")+'style="box-sizing:border-box; WIDTH: 100%; HEIGHT: '+f+'px" name="'+a+'" id="'+a+'"></TEXTAREA><div class="formElementInstruction">('+c+': <span id="'+a+'_counter" >'+g+"</span>)</DIV>";return d}function getCheckboxControlHtml(b,g,f,d,c,e){var a='<input type="checkbox" name="'+b+'" id="'+b+'" value="'+g+'" '+f+" "+(d==true?"disabled":"")+" "+((typeof c!="undefined"&&c!=""&&c!=null)?('style="'+c+'"'):"")+" "+(e==true?"checked":"")+">";return a}function getRadioButtonControlHtml(d,k,b,f,c,l,g,e){var a='<div class="radioBox"><input type="radio" name="'+d+'" value="'+k+'" '+b+' id ="'+e+'"'+(f==true?"disabled":"")+" "+((typeof c!="undefined"&&c!=""&&c!=null)?('style="'+c+'"'):"")+" "+(l==true?"checked":"")+'><label for="'+e+'">'+g+"</label></div>";return a}function getTextboxControlHtml(a,b,f,d,e,c){var g;g="<input type='text' "+((c==null||c=="")?"":" class='"+c+"'")+" name='"+a+"' id='"+a+"' "+((b==null||b==" ")?"":" maxlength='"+b+"'")+((d==null||d=="")?"":" style='"+d+"'")+" value='"+f+"' "+((e==null||e=="")?"":e)+">";return g}function escapeHTML(b){if(typeof b!="undefined"&&typeof b!="boolean"&&b!=null){var c=b;var a=[[/&/g,"&amp;"],[/</g,"&lt;"],[/>/g,"&gt;"],[/"/g,"&quot;"]];for(var d=0;d<a.length;d++){c=c.replace(a[d][0],a[d][1])}return c}else{return b}}function addSmartSelectOnObject(k,d,m,s,n,l,o,g,e,t,u,q,f,p,b,a,c){var r=getSmartselectHTML(d,m,s,n,l,o,g,e,t,u,q,f,p,b,a,c);$(k).html(r);initSmartSelect(e,t,o,g,u,q,p,b,a)}function getSmartselectHTML(selectedId,selectedValue,isEnablefreeText,isMandatory,isDisabled,value,label,property,optionsName,onSelect,applicationMessage,allowMultiSelect,dbid,qid,qparams,isRequired){var memberObject="smartSelect"+property+"= new Object()";var tempHolder=eval(memberObject);tempHolder.label=selectedValue;tempHolder.value=selectedId;if(optionsName==null){optionsName=""}var qarguments=", ";if(arguments[15]!=null){for(var i=0;i<arguments[15].length;i++){qarguments+="'"+arguments[15][i].replace(/(['"])/g,"\\$1")+"'";if(i<arguments[15].length-1){qarguments+=", "}}}if(qarguments==", "){qarguments=""}var isNewUi=($("#formOuterContainer").size()>0?true:false);var returnStr='<input type="text"   class="'+((typeof isRequired!="undefined"&&isRequired)?"  requiredFieldCls":"")+'" name="select_'+property+'" id="select_'+property+'" '+((isDisabled)?"disabled ":"")+'value="'+escapeHTML(selectedValue)+'" style="'+(isNewUi?"width:300px;":"width:100%")+'" /><span id="msg_'+property+'"></span><input type="hidden"  name="'+property+'" id="'+property+'" value="'+selectedId+'"/>';return returnStr}function initSmartSelect(property,optionsListName,value,label,onSelect,applicationMessage,dbid,qid,qparams){var localCSRFToken="";if(typeof _CSRF_TOKEN_VALUE!="undefined"){localCSRFToken=_CSRF_TOKEN_VALUE}var localQparams=qparams;var calleeName=arguments.callee.name;var invokeSmartSelectValueCallback=function(smartSelectField,eventName,value){var instanceName=smartSelectField.gridInstanceName;if(typeof instanceName!=="undefined"&&typeof window[instanceName]!=="undefined"&&typeof window[instanceName].setJqxGridCellValueCallback!=="undefined"&&window[instanceName].setJqxGridCellValueCallback!=null){window[instanceName].setJqxGridCellValueCallback(eventName,smartSelectField.id,value)}};try{$("#select_"+property).autocomplete({source:function(request,response){response([{id:"_LOADING_",value:getMessage("label.loading")+"..."}]);var localQparams=new Array();if(qparams!=null){for(var i=0;i<qparams.length;i++){if(qparams[i].indexOf("_frm_")!=-1){var index=qparams[i].indexOf("_frm_");var index2=qparams[i].indexOf(",",index+1);var queryElmName=qparams[i].substring(index+5,index2);var queryFrmElement=findFormElement(queryElmName);if(queryFrmElement!=null){var tmp=qparams[i].substring(0,index-1);tmp+=",";tmp+=encodeURIComponent(queryFrmElement.value);tmp+=qparams[i].substring(qparams[i].indexOf(",",index+1));localQparams[i]=tmp}}else{localQparams[i]=qparams[i]}}}var term=request.term;var rand=new Date().getTime();$.ajax({url:"/smart_select_options2.jsp?callback=?",dataType:"json",data:{sgjy:localCSRFToken,rand:rand,value:value,label:label,fieldName:property,optionsListName:optionsListName,searchStr:request.term,applicationMessage:applicationMessage,qparams:localQparams,dbName:dbid,queryId:qid},success:function(data){if(data==null||data.length==0){response([{id:"_NONE_SELECTABLE_",value:getMessage("label.noDataFound")}]);$("#"+property).val("")}else{if(data.length>=1){response(data);$("#"+property).val("")}else{response(data)}}}})},delay:500,minLength:0,disabled:false,select:function(event,ui){if(ui.item.id==="_LOADING_"){return}if($("#"+property).val()!=ui.item.id){$("#"+property).val(ui.item.id);$("#select_"+property).val(ui.item.value);eval(onSelect);var smartSelectObj={};smartSelectObj.id=$("#select_"+property).attr("id");smartSelectObj.gridInstanceName=$("#select_"+property).attr("gridInstanceName");invokeSmartSelectValueCallback(smartSelectObj,calleeName,ui.item.value)}}}).data("ui-autocomplete")._renderMenu=function(ul,items){var that=this;var noItemsFlag=false;var moreItemFlag=false;var moreItemMsg=null;$.each(items,function(index,item){if("_NONE_SELECTABLE_"!=item.id){if("_LOAD_MORE_"!=item.id){that._renderItemData(ul,item)}else{moreItemFlag=true;moreItemMsg=item.value}}else{noItemsFlag=true}});if(noItemsFlag){$('<div class="warnDiv"><span class="warningIcon"></span>'+getMessage("label.noDataFound")+"</div>").appendTo(ul)}else{if(moreItemFlag){$('<div class="warnDiv"><span class="warningIcon"></span>'+moreItemMsg+"</div>").appendTo(ul)}}};$("#select_"+property).autocomplete().data("ui-autocomplete")._renderItem=function(ul,item){var itemObj=$("<li>");var label=item.label;var find=">";var re=new RegExp(find,"g");label=label.replace(re,"&#62;");find="<";re=new RegExp(find,"g");label=label.replace(re,"&#60;");if(typeof item.desc!="undefined"){itemObj.append("<a>"+label+'<br><span class="ui-autocomplete-desc">'+item.desc+"</span></a>")}else{itemObj.append("<a>"+label+"</a>")}return itemObj.appendTo(ul)};$("#select_"+property).bind("blur",function(event){var autocomplete=$(this).data("ui-autocomplete");var matcher=new RegExp("^"+$.ui.autocomplete.escapeRegex($(this).val())+"$","i");var myInput=$(this);autocomplete.widget().children(".ui-menu-item").each(function(){var item=$(this).data("uiAutocompleteItem");if(matcher.test(item.label||item.value||item)){autocomplete.selectedItem=item;return}});if(autocomplete.selectedItem){autocomplete._trigger("select",event,{item:autocomplete.selectedItem})}else{if($("#select_"+property).val()==""){$("#"+property).val("")}}});$("#select_"+property).click(function(){$("#select_"+property).autocomplete("search","")})}catch(err){}}function getSmartSelectTreeSource(p,e,o,m,f,d,c,g,l){var n="";if(typeof _CSRF_TOKEN_VALUE!="undefined"){n=_CSRF_TOKEN_VALUE}var b=getSmartSelectParams(l);var k=new Date().getTime();var a={dataType:"json",dataFields:[{name:"id",type:"string"},{name:"parentId",type:"string"},{name:"value",type:"string"}],hierarchy:{keyDataField:{name:"id"},parentDataField:{name:"parentId"}},id:"id",root:"items",url:"/smart_select_options2.jsp?tree=true",data:{sgjy:n,rand:k,value:o,label:m,fieldName:p,optionsListName:e,applicationMessage:d,qparams:b,dbName:c,queryId:g}};return a}function getSmartSelectParams(k){var b=new Array();if(k!=null){for(var d=0;d<k.length;d++){if(k[d].indexOf("_frm_")!=-1){var a=k[d].indexOf("_frm_");var g=k[d].indexOf(",",a+1);var e=k[d].substring(a+5,g);var f=findFormElement(e);if(f!=null){var c=k[d].substring(0,a-1);c+=",";c+=encodeURIComponent(f.value);c+=k[d].substring(k[d].indexOf(",",a+1));b[d]=c}}else{b[d]=k[d]}}}return b}function disableSmartSelect(a){$("#select_"+a).autocomplete("disable");$("#select_"+a).attr("readonly",true);$("#select_"+a).attr("title","");$("#"+a).attr("readonly",true)}function getHTMLByDataType(d,f,t,g,s,q,p,r,k,l,e,a,c,m,n,o,b){if(o=="CLASS_SUPP_USER_ENTERED"){if(l!=null){l=l.replace(/'/g,"\\'")}return getUserInputHTML(d,f,t,g,s,q,p,r,k,l,e,a,c,m,n)}else{return getSmartselectHTML(d,f,t,g,s,q,p,r,k,l,e,a,c,m,n)}return}function getUserInputHTML(selectedId,selectedValue,isEnablefreeText,isMandatory,isDisabled,value,label,property,optionsName,onSelect,applicationMessage,allowMultiSelect,dbid,qid,qparams){var memberObject="userEntered"+property+"= new Object()";var tempHolder=eval(memberObject);tempHolder.label=selectedValue;tempHolder.value=selectedId;if(optionsName==null){optionsName=""}var qarguments=", ";if(arguments[14]!=null){for(var i=0;i<arguments[14].length;i++){qarguments+="'"+arguments[14][i].replace(/(['"])/g,"\\$1")+"'";if(i<arguments[14].length-1){qarguments+=", "}}}if(qarguments==", "){qarguments=""}var isNewUi=($("#formOuterContainer").size()>0?true:false);var returnStr='<table  style="width:100%"><colgroup><col> <col style="width:18px"> </colgroup><tr><td><input type="hidden" name="'+property+'" id="'+property+'" value="'+selectedId+'"/><input type="text" AUTOCOMPLETE="off" '+((isDisabled)?"disabled ":"")+'name="select_'+property+'" id="select_'+property+'" value="'+escapeHTML(selectedValue)+'"style="'+(isNewUi?"width:300px;":"width:100%")+'"onchange="inputEntered(event, '+isEnablefreeText+", "+isMandatory+", '"+value+"', '"+label+"', '"+property+"','"+optionsName+"','"+onSelect+"',"+applicationMessage+","+allowMultiSelect+",'"+dbid+"','"+qid+"'"+qarguments+');"/></td><td style="width:'+(isNewUi?"16":"24")+'px;padding:0">';returnStr+="</td></tr></table>";return returnStr}function inputEntered(event,isEnablefreeText,isMandatory,value,label,fieldName,optionsListName,callBackStmt,applicationMessage,allowMultiSelect,dbName,queryId){var SearchFrmElement=findFormElement("select_"+fieldName);SearchFrmElement.style.color="#000000";if(callBackStmt!=null&&callBackStmt!="null"){eval(callBackStmt)}validateUserEnteredValues(event,isEnablefreeText,isMandatory,value,label,fieldName,optionsListName,callBackStmt,applicationMessage,allowMultiSelect,dbName,queryId,arguments);return}function validateUserEnteredValues(event,isEnablefreeText,isMandatory,value,label,fieldName,optionsListName,callBackStmt,applicationMessage,allowMultiSelect,dbName,queryId,queryArguments){if(allowMultiSelect!="true"){var SearchFrmElement=findFormElement("select_"+fieldName);invalidValueElms[SearchFrmElement.id]=null;if(trim(SearchFrmElement.value).length==0&&isMandatory||SearchFrmElement.className=="waitingForInput"){setDefaultValues(fieldName,callBackStmt,applicationMessage);return}if(trim(SearchFrmElement.value).length==0){var frmElement=findFormElement(fieldName);frmElement.value="";return}var queryStr=prepareQueryString(event,isEnablefreeText,isMandatory,value,label,fieldName,optionsListName,callBackStmt,applicationMessage,dbName,queryId,queryArguments);var xmlhttp=new fgNet.xmlHttpRequest();xmlhttp.open("POST","/smart_select_options2.jsp",true);xmlhttp.onreadystatechange=function(){if(xmlhttp.readyState==4){if(xmlhttp.status==200||xmlhttp.status==0){var SearchFrmElement=findFormElement("select_"+fieldName);var jsonData=xmlhttp.responseText;var parsedData=eval("("+jsonData+")");try{var totalRecords=parsedData.header.totalcount;if(totalRecords==0){if(isMandatory){SearchFrmElement.className="waitingForInput"}else{SearchFrmElement.value=""}return}var exact_match_count=parsedData.header.exactmatchcount;var match_count=parsedData.header.matchcount;if(match_count==1){var data_nodes=parsedData.dataSet;var node_value=data_nodes[0].id;var frmElement=findFormElement(fieldName);SearchFrmElement=findFormElement("select_"+fieldName);invalidValueElms[SearchFrmElement.id]=null;frmElement.value=node_value}else{if(exact_match_count!=1){var frmElement;if(match_count>1){SearchFrmElement.style.color="#cc0000";frmElement=findFormElement(fieldName);frmElement.value="";invalidValueElms[SearchFrmElement.id]=true}else{SearchFrmElement.style.color="#cc0000";frmElement=findFormElement(fieldName);frmElement.value="";invalidValueElms[SearchFrmElement.id]=true}}}}catch(e){var message=parsedData.error.message;var messageType=parsedData.error.messageType;if(messageType==2){if(confirm(message)){parent.window.top.location.reload()}}else{alert(message)}}}else{alert("Error: xmlhttp.status= "+xmlhttp.status)}}parsedData=null};xmlhttp.setRequestHeader("Content-Type","application/x-www-form-urlencoded");xmlhttp.send(queryStr)}return}function setScroll(b){if(document.forms&&document.forms.length>0&&document.forms[0]){var a=document.forms[0].elements.scrollPos;if((typeof a!="undefined")&&(a.value!="")){if(b||(($(".errorDiv").size()==0)&&($(".warnDiv").size()==0))){$("body,html").scrollTop(parseInt(a.value));a.value=""}}}}function trim(a){if(a==null){return a}return a.replace(/^\s*/,"").replace(/\s*$/,"")}function bugReport(){var a="/error.jsp?report=1&url="+escape(location.href);a=addCSRFTokenToURL(a);location.href=a}function sendSuggestion(){var a="/send_suggestion.jsp";a=addCSRFTokenToURL(a);location.href=a}function keyPressEvent(c){genWindowEvent(c);var b;var a;b=window.event.keyCode;a=window.event.srcElement.type;if(b==13){if((a=="textarea")||(a=="select-multiple")||(a=="button")||(a=="submit")){return true}else{if(a=="select-one"){window.focus();return true}}if(c&&c.preventDefault){c.preventDefault();c.stopPropagation()}return false}return true}function modalWindowKeyPressEvent(){if(typeof window.event.srcElement.name=="undefined"||window.event.srcElement.name==null){return keyPressEvent(window.event)}if(window.event.srcElement.name.indexOf("_search")>-1){return keyPressEvent(window.event)}else{return true}}function setScrollBars(){if($("#bodySpan").size()>0&&window.dialogHeight){var a=window.dialogHeight.substring(0,(window.dialogHeight.length-2));if((document.getElementById("bodySpan").offsetHeight)>a){document.body.scroll="yes"}}}function submitPrompt(a,b,c){if(window.confirm(a)){submitActionForm(b,c)}}function previewAttachment(f,a,e,k,c,d,g){var b=buildAttachmetUrl("/preview_document.do",f,a,e,k,c,d,g);showDialogPanel(b,"",true,false,true)}function previewAttachment2(c,g,b,l,d,f,k,e){var a=buildAttachmetUrl("/preview_attachment.do",c,g,b,l,d,f,k,e);showDialogPanel(a,"",true,false,true)}function fspPreviewAttachment(f,a,e,k,c,d,g){var b=buildAttachmetUrl("/fsp/fsp_preview_attachment.do",f,a,e,k,c,d,g);showDialogPanel(b,"",true,false,true)}function buildAttachmetUrl(f,c,k,b,m,d,g,l,e){var a=f;if(c!=null){a+="?id="+c;if(typeof(b)!="undefined"){a+="&moduleId="+b}if(typeof(k)!="undefined"){a+="&objectId="+k}}else{a+="?objectId="+k;if(typeof(b)!="undefined"){a+="&moduleId="+b}if(typeof(m)!="undefined"){a+="&resumeType="+m}}if(d!=null){a+="&groupId="+d}if(g!=null){a+="&dbName="+g}if(l!="null"){a+="&proxyPersonId="+l}if(isNullOrEmpty(e)==false){a+="&widgetId="+e}a=addShouldUrlEncNameFlag(a);a+="&rand="+new Date().getTime();a=addCSRFTokenToURL(a);return a}function isNullOrEmpty(a){return typeof a==="undefined"||a===null||a==="null"||a===""}function openAttachment(c,g,b,l,d,f,k,e){skipDisableButtons=true;var a=buildAttachmetUrl("/DownloadDocument",c,g,b,l,d,f,k,e);location.href=a;window.setTimeout("skipDisableButtons=false",1000)}function openStandardAttachment(a,d,b){skipDisableButtons=true;var c="/DownloadDocument";c+="?id="+a;if(typeof(d)!="undefined"){c+="&moduleId="+d}if(typeof(a)!="undefined"){c+="&objectId="+a}if(typeof(a)!="undefined"){c+="&version="+b}c+="&isStandardAttachment=true";location.href=c;window.setTimeout("skipDisableButtons=false",1000)}function addShouldUrlEncNameFlag(a){if(isIE||isChrome){a+="&shouldUrlEncName=true"}return a}function getAttachmentsQueryString(c,d,k,e,f,l){var b="?moduleId="+d;b+="&parentFormName="+$(c).attr("name");if(typeof(e)!=undefined){b+="&parentFormAction="+e}if(typeof(k)!="undefined"&&k!=null&&k!=""){b=b+"&fieldId="+k}var g=$(c).serializeArray();var a=new Array();jQuery.each(g,function(m,n){if(n.name.indexOf("attachment_id_")==0&&n.value!="removed"){a[a.length]=n.name.substr(14)}});b=b+"&exsitingAttachmentsIds="+a.join(",");if(isNullOrEmpty(f)==false){b=b+"&widgetId="+f}if(isNullOrEmpty(l)==false){b=b+"&replaceId="+l}return b}function getAttachmentsJson(c,d,m,f,k,o){var g={moduleId:d,parentFormName:$(c).attr("name")};if(typeof(f)!=undefined){g.parentFormAction=f}if(typeof m!=="undefined"&&m!=null&&m!=""){try{m=$.parseJSON(m)}catch(n){}if(typeof m==="object"){for(var b in m){g[b]=m[b]}}else{g.fieldId=m}}var l=$(c).serializeArray();var a=new Array();jQuery.each(l,function(e,p){if(p.name.indexOf("attachment_id_")==0&&p.value!="removed"){a[a.length]=p.name.substr(14)}});g.exsitingAttachmentsIds=a.join(",");if(isNullOrEmpty(k)==false){g.widgetId=k}if(isNullOrEmpty(o)==false){g.replaceId=o}return g}function manageAttachments(f,g,e,b,d,k){var c="/attachment.do";var a=getAttachmentsJson(f,e,b,g,d,k);showDialogPanel(c,".listPanel",true,false,false,a)}function manageFspAttachments(c,d,b,a,e){fgShowModalDialog("/fsp/attachment.do"+getAttachmentsQueryString(c,b,a,d),"forcewidth","550","330")}function manageDocuments(c,d,b,a){setAdditionalCallBack(modalSubmitActionCallBack,"Upload",c,d);fgShowModalDialog("/document_version.do"+getAttachmentsQueryString(c,b)+"&addNew=true&sectionId="+a,"forcewidth","550","330")}function replaceDocument(c,d,b,a){setAdditionalCallBack(modalSubmitActionCallBack,"Upload",c,d);fgShowModalDialog("/document_version.do?moduleId="+b+"&"+a,"forcewidth","550","330")}function setScreenLocation(){if(typeof(window.dialogWidth)=="undefined"){return}var a=(screen.availHeight-parseInt((window.dialogHeight.substring(0,window.dialogHeight.length-2))))/2;var b=(screen.availWidth-parseInt((window.dialogWidth.substring(0,window.dialogWidth.length-2))))/2;window.dialogTop=a;window.dialogLeft=b}function setTableTotal(c,a){if(c==null){return}var b=c.rows.length-1;if(b<1){return}if(c.rows[b].cells.length<2){return}c.rows[b].cells[1].innerText=getLocaleNumberFromNumber(a,2)}function getTableTotal(b){if(b==null){return}var a=b.rows.length-1;if(a<1){return 0}if(b.rows[a].cells.length<2){return 0}return(b.rows[a].cells[1].innerText)}function updateTableTotal(f,k,e){if(f==null){return}var d=document.getElementById(f);if(d==null){return}var c=0;var g=d.rows.length-1;if(g<1){return}if(typeof k=="undefined"||k==null){k=d.rows[0].cells.length-1}var a=null;if(typeof e!="undefined"){a=document.getElementsByName(e)}for(var b=1;b<g;b++){if(typeof d.rows[b].cells[k]!="undefined"){if(a==null){c+=(getNumberFromLocaleNumber(d.rows[b].cells[k].innerText)*1)}else{if(a.length>b-1&&a[b-1].checked){c+=getNumberFromLocaleNumber(d.rows[b].cells[k].innerText)}}}}setTableTotal(d,c)}function updateTableTotalByDelta(e,d,g){if(e==null){return}var c=document.getElementById(e);if(c==null){return}var a=getNumberFromLocaleNumber(getTableTotal(c));var f=getNumberFromLocaleNumber(g);if(d!=null&&!d){f=-1*f}var b=(a)*1+f*1;setTableTotal(c,b)}function manageModalBsc(a,b){setAdditionalCallBack(modalSubmitActionCallBack,"update",a,b);fgShowModalDialog("/supplier_qual_invitation_selection.do","forcesize","550",500)}function changeReqOwners(f,c,d,e){var b=500;var a=580;setAdditionalCallBack(modalSubmitActionCallBack,"update",d,e);fgShowModalDialog("/change_requisition_owner_form.do?id="+f+"&reqOwnerId="+c,"forcesize",a,b)}function documnetOnMouseDown(b){var a=null;genWindowEvent(b);if(event==null&&window.e){event=b}if(typeof event.target!="undefined"){a=event.target}else{a=event.srcElement}if(a==$("html").get(0)||((isIE10||isIE9)&&(typeof a.nodeName=="undefined"))){return}clearOpenMenuMode(b)}function clearOpenMenuMode(b){clearActionMenuTitle();genWindowEvent(b);if(event==null&&window.e){event=b}if(event==null){return}var a=event.srcElement;if($(a).parents("#wiMenu").size()==0&&($(a).attr("id")!="workflowMenuTitle2")){hideWiMenu()}if($(a).parents(".mega").size()==0){$("ul#menuBarId li.menuLinkHover").removeClass("menuLinkHover");$("ul#rightCornerList li.menuLinkHover").removeClass("menuLinkHover");if(document.getElementById("helpMenuOpener")!=toggleMenuInfo.menuItemClicked){$("#helpicon.activeHelp").removeClass("activeHelp")}if(document.getElementById("accountOpener")!=toggleMenuInfo.menuItemClicked){$("#activelinkedUserName.activeHelp").removeClass("activeHelp")}$(".mega").slideUp(200);if(isIE6&&!IS_JQ_PANEL_ON){$("select").css("display","")}if($(a).parents(".moreTabUl").size()==0){$("ul.moreTabUl").slideUp(200)}}}function toggleActionMenu(){closeAnySocialBarModal();if($("#actionMenu").css("display")=="none"){onClickActionMenuOpener()}else{onClickActionMenuClose()}}function onClickActionMenuClose(){$("#actionMenu").slideUp(200)}function onClickActionMenuOpener(){if(isIE6){$("select").css("display","none")}$("#actionMenu").slideToggle(200)}function clearActionMenuTitle(){var a=document.getElementById("actionMenuTitle");if(a){a.className=a.className.replace("formButtonhover","")}}function setSelectWidth(a,b){if(isIE){a.style.width=b}}function wiMenuCallBack(){$("li.item").click(menuItemSelect);var b=$("#wiMenu").find("li.column").size();var a=200;var c=Math.max(150,b*a);if(b>2){if(isRtl()){$("#wiMenu").css("right",(b-2)*(-a-20))}else{$("#wiMenu").css("left",(b-2)*(-a-20))}}$("#wiMenu").css("width",c);if(isIE6){$("select").css("display","none")}$("#wiMenu").slideDown(200,function(){$("#workflowMenuTitle2").addClass("activeWI");$("#wiMenu  ul.menuColumns li.column div ul.columnList").last().css("border-right","1px solid white");if(isIE6){$("#wiMenu").css("left",-1)}$("#wiMenu  ul.menuColumns li.column div ul.columnList li.item").hover(function(){$(this).addClass("hoverlink")},function(){$(this).removeClass("hoverlink")})})}function onClickWIMenuOpener(){$("#wiMenu").width(360);$("#wiMenu").css("left","-38px");$("#wiMenu").html('<div class="wiLoading"><img src="/images/interface/ajax-loader-small.gif">&nbsp;&nbsp;Loading... please wait</div>');$("#wiMenu").slideDown(200);$(".upPointer").show();var a="/wiMenu.jsp?time="+new Date().getTime();a=addCSRFTokenToURL(a);$("#wiMenu").load(a,wiMenuCallBack);$("#main :tabbable").attr("aria-hidden","true");isWIMenuOpen=true}function sessionDisconnected(){location.reload()}function toggleWiMenu(){if(!isWIMenuOpen){onClickWIMenuOpener();hidePdfs()}else{hideWiMenu();showPdfs()}}function hideWiMenu(){$("#wiMenu").slideUp(200,function(){$("#workflowMenuTitle2").css("color","");$("#workflowMenuTitle2").css("background-image","");$("#workflowMenuTitle2").css("background-repeat","");$("#workflowMenuTitle2").removeClass("activeWI");$("[aria-hidden='true']").removeAttr("aria-hidden");isWIMenuOpen=false;$(".upPointer").hide();if($("#wiMenu").css("display")!="none"){$("#wiMenu").hide();if(isIE6&&!IS_JQ_PANEL_ON){$("select").css("display","")}}})}function toggleMenus(){if($(this).children(".mega").css("display")=="none"){showMegaMenu(this)}else{hideMegaMenu(this)}}function setMenuHeight(b){if($("#"+b).attr("heightSet")!="1"){var a=0;$("#"+b+" ul.menuColumns li.column div ul.columnList").each(function(){a=Math.max(a,$(this).height())});$("#"+b+"  ul.menuColumns li.column div ul.columnList").height(a);$("#"+b).attr("heightSet",1)}}function showMegaMenu(b){$("ul.menu li.menuLinkHover").removeClass("menuLinkHover");$(".mega").slideUp(150,function(){if(isIE6){$("select").css("display","none")}});$(b).addClass("menuLinkHover");var a=$(b).children(".mega");a.slideDown(200,function(){setMenuHeight(a.attr("id"))});hideWiMenu();hidePdfs()}function hidePdfs(){if(isIE){$("#pdfDiv").css("visibility","hidden");$(".pdfContainer").css("visibility","hidden")}}function showPdfs(){if(isIE){$("#pdfDiv").css("visibility","");$(".pdfContainer").css("visibility","")}}function hideMegaMenu(a){$(a).children(".mega").slideUp(200,function(){$(a).removeClass("menuLinkHover")});if(isIE6&&!IS_JQ_PANEL_ON){$("select").css("display","")}showPdfs()}function hideAllMenus(){hideWiMenu();$(".mega").slideUp(200,function(){$("ul.menu li.menuLinkHover").removeClass("menuLinkHover")});if($(".hovering").size()>0){$(".hovering").removeClass("hovering");if(isIE6&&!IS_JQ_PANEL_ON){$("select").css("display","")}}}function updateWiCount(a){if($("#wiCount").size()==0){if(window.parent!=window&&typeof(window.parent.updateWiCount)!="undefined"){window.parent.updateWiCount(a);return}}if(a==""){a=0}$("#wiCount").html(getLocaleNumberFromNumber(a,0));if(a==0){$("#wiCount").addClass("gray");$("#wiCount").removeClass("orange");$("#wiCount").removeClass("white")}else{$("#wiCount").removeClass("gray");$("#wiCount").removeClass("white");$("#wiCount").addClass("orange")}}var globalposX,targetRow;function startResize(e,resizeColumn,htmlId,extraColposition,columnCount){genWindowEvent(e);var bodyTable=document.getElementById(htmlId);var listheaderTable=document.getElementById("listheaderTable_"+htmlId);globalposX=event.clientX?event.clientX:event.x;var srcObj=event.srcElement;var columnSeperatorWidth=srcObj.width;targetRow=resizeColumn;setColumnsWidths(bodyTable.id,listheaderTable,1,extraColposition,columnCount);setColumnsWidths(bodyTable.id,bodyTable,2,1,columnCount);$(document).bind("mousemove",eval(htmlId+"_MouseMoveFunction"));$(document).bind("mouseup",eval(htmlId+"_MouseUpFunction"));if(IS_JQ_PANEL_ON&&isIE6){$(".listScrollDiv").css("width",listheaderTable.offsetWidth)}}function stopResize(e,imgObj,htmlId,clientId,columnCount,scrollHeight){genWindowEvent(e);var listheaderTable=document.getElementById("listheaderTable_"+htmlId);if(isIE&&!isIE11){$(".listColumnSeperator").each(function(i,xobj){xobj.releaseCapture()})}else{$(document).unbind("mousemove",eval(htmlId+"_MouseMoveFunction"));$(document).unbind("mouseup",eval(htmlId+"_MouseUpFunction"))}var elm=document.getElementById("widths");if(elm!=null){elm.value=getColumnsWidths(listheaderTable,2,columnCount)}elm=document.getElementById("listId");if(elm!=null){elm.value=clientId}var listViewContainer=document.getElementById("listViewContainer_"+htmlId);var bottomDatetable=document.getElementById("bottomDatetable");var bodyTable=document.getElementById(htmlId);if(listViewContainer!=null&&bottomDatetable!=null&&typeof(listViewContainer.style)!="undefined"){if(scrollHeight!=""&&scrollHeight!=null){var newHeight=listheaderTable.offsetHeight+scrollHeight+(listViewContainer.scrollWidth>bottomDatetable.offsetWidth?17:0);if(isIE7||isIE8){newHeight="auto"}listViewContainer.style.height=newHeight}else{listViewContainer.style.height=listheaderTable.offsetHeight+bodyTable.offsetHeight+(listViewContainer.scrollWidth>bottomDatetable.offsetWidth?17:0)}}else{if(listViewContainer!=null&&typeof(listViewContainer.style)!="undefined"){if(scrollHeight==""||scrollHeight==null){listViewContainer.style.height=bodyTable.offsetHeight+listheaderTable.offsetHeight+(bodyTable.offsetWidth>listViewContainer.offsetWidth?17:0)}}else{if(scrollHeight==""||scrollHeight==null){setTableHeight(clientId,htmlId)}}}if($(".resizeableListView")){if($("#"+htmlId).width()>$(".resizeableListView").width()){$(".resizeableListView").css("overflow-x","scroll")}else{$(".resizeableListView").css("overflow-x","hidden")}}if($(".listScrollDiv")){if($("#"+htmlId).width()>$(".listScrollDiv").width()){$(".listScrollDiv").css("overflow-x","scroll")}else{$(".listScrollDiv").css("overflow-x","hidden")}}if(IS_JQ_PANEL_ON&&isIE6){$(".listScrollDiv").css("width",listheaderTable.offsetWidth)}savecolumnWidth();globalposX=null}function setTableHeight(b,f){var e=document.getElementById(f+"_Div");var a=b+"_r";if(e&&document.getElementsByName(a)&&document.getElementsByName(a)[0]){var d=document.getElementsByName(a)[0].value;var c=document.getElementById(f);var g=c.rows.length;if(document.getElementsByName(a)[0].type!="hidden"){e.style.height=(d>g?g:d)*21+((c.offsetWidth+17)>e.offsetWidth?17:0)}}}function doResize(a){a.style.cursor="E-resize"}function helpAudit(c,b,a){if(c!=null&&b!=null){$("#oDownload").load(addCSRFTokenToURL("/help_audit.do?userType="+c+"&moduleId="+b+"&module="+a))}}function savecolumnWidth(){var d=document.getElementById("widths");var a=document.getElementById("listId");if(d!=null&&a!=null){var c=a.value;var b=d.value;if(typeof(listViewContainer)!="undefined"){listViewContainerheight=listViewContainer.offsetHeight}else{listViewContainerheight=null}if(c!=""){new fgNet.executeRequest("/column_widths.jsp?listId="+c+"&columnWidhts="+b+"&listViewContainerheight="+listViewContainerheight,fgNet.GET_REQUEST,null,dummy)}}return true}function dummy(){}function setColumnsWidths(b,g,d,m,k){if(k>0){var c=(k-1)/d;for(var e=0;e<c;e++){var l=document.getElementById(g.id+"_col_"+(e*d));var f=document.getElementById(b+"_row_"+(e*d));if(f.offsetWidth<0){$(l).width(0)}else{$(l).width(f.offsetWidth)}}var a;if(m==1){a=document.getElementById(g.id+"_col_"+(k-1))}else{a=document.getElementById(g.id+"_col_"+((k-1)-1))}a.style.width=""}}function getColumnsWidths(g,a,d){var c="";var f=(d-1);var e;for(var b=0;b<f;b++){if((b%2)==0){e=document.getElementById(g.id+"_col_"+(b));c=(typeof(c)=="undefined"?"":c);c+=e.style.width+","}}return(c.substring(0,c.length-1))}function doActionResize(g,b,c,a){genWindowEvent(g);var f=parseInt(event.clientX-globalposX);if(globalposX!=null){var k=document.getElementById("listheaderTable_"+b+"_col_"+targetRow);var d=(k.style.width.substring(0,k.style.width.length-2)*1)+f;if(d>10){$("#listheaderTable_"+b+"_col_"+targetRow).width(d);$("#"+b+"_col_"+targetRow).width(d);globalposX=event.clientX?event.clientX:event.x}}}function makeListHover(a){$(a).parent("tr").hover(function(){$(this).addClass("hover")},function(){$(this).removeClass("hover")})}function listViewDropDownSubmitForm(a){setFormValue(a,"ttFilterButtonClicked","true");submitForm(a);return true}function listViewKeyPressEvent(d,c){genWindowEvent(d);var b;var a;b=window.event.keyCode;a=window.event.srcElement.type;if(b==13){setFormValue(c,"ttFilterButtonClicked","true");submitForm(c);preventEventDefault(d);stopEventPropagation(d);return false}return true}function fgGridSubmitForm(a){setFormValue(a,"ttFilterButtonClicked","true");submitForm(a);return false}function preventEventDefault(a){if(!a){return false}if("preventDefault" in a){a.preventDefault()}if("returnValue" in a){a.returnValue=false}}function stopEventPropagation(a){if(!a){return false}if("stopPropagation" in a){a.stopPropagation()}if("cancelBubble" in a){a.cancelBubble=true}}function manageQualifications(c,d,b,e){var a="/qual_selection_form.do";if(typeof e!="undefined"){a=e}if(c.elements.scrollPos!=null){c.elements.scrollPos.value=(isWebKit?$("body").scrollTop():$("body,html").scrollTop())}var f="?moduleId="+b+"&loadSet=true&parentFormName="+c.name;showDialogPanel(a+f,"listPanel",true,false,true)}function manageQualificationsModal(c,d,b,e){var a="/qual_selection_form.do";if(typeof e!="undefined"){a=e}if(c.elements.scrollPos!=null){c.elements.scrollPos.value=(isWebKit?$("body").scrollTop():$("body,html").scrollTop())}var f="?moduleId="+b+"&loadSet=true";fgShowModalDialog(a+f,"",700,500)}function toggleSideBar(){if($("#toggleSideBarDiv").hasClass("toggleSideBarDivCollapse")){$("#toggleSideBarDiv").removeClass("toggleSideBarDivCollapse");$("#toggleSideBarDiv").addClass("toggleSideBarDivExpand");$(".sideBarSectionText").css("display","");$("#formSideBar").width(200);$(".sideBarItemHeaderAndFooter").css("width",200);$(".sideBarItem").css("width","");$("#sideBarCell").width(200);document.cookie="formSideBarOpen=1"}else{$("#toggleSideBarDiv").removeClass("toggleSideBarDivExpand");$("#toggleSideBarDiv").addClass("toggleSideBarDivCollapse");$(".sideBarSectionText").css("display","none");$(".sideBarSection").css("padding-right",0);$("#formSideBar").width(36);$(".sideBarItemHeaderAndFooter").css("width",36);$("#sideBarCell").width(36);if(isIE7||isIE6){$(".sideBarItem").css("width",8)}document.cookie="formSideBarOpen=0"}}function addCustomFields(f,d,c){if(document.forms[0]&&document.forms[0].elements.scrollPos){document.forms[0].elements.scrollPos.value=(isWebKit?$("body").scrollTop():$("body,html").scrollTop())}var b=new Array();$("input[name^='cc_']").each(function(){b[b.length]=$(this).val()});var a={objectId:f,moduleId:d,excludeCCIds:b.join("-")};if(d=="730"){var e=(document.getElementsByName("feeRateType")[0]).value;a.feeRateTypeSelected=e}showDialogPanel("/add_custom_field.do","",true,false,true,a)}function clearFieldOnce(a){if(typeof a!="undefined"&&a!=null){clearField(a);a.onfocus=""}}function createSearchForm(c,b){var a=document.createElement("FORM");a.name="gsForm";a.id="gsForm";a.action="/global_search.do";a.method="post";creatFormInputElement(a,"hidden","searchStr",b);creatFormInputElement(a,"hidden","s_globalSearchForm_searchText",b);creatFormInputElement(a,"hidden","action",c);creatFormInputElement(a,"hidden","rand",new Date().getTime());addCSRFtoForm(a);return a}function globalSearchForDocument(){var a=createSearchForm("ajaxSearch",$("#globalSearchInput").val());$("#modalPanel").append(a);$("body").addClass("loadingMask");var b=$(a).serialize();$.post("/global_search.do",b,function(c){c=trim(c);if(c.indexOf("__FORWARD_TO_SEARCH__")>-1){$("#gsForm input[name='action']").val("");a.elements.action.rand=new Date().getTime();a.submit()}else{$("#modalPanel").html(c)}})}function globalSearchKeyDown(d){genWindowEvent(d);var b=window.event.keyCode;var c=window.event.shiftKey;var a=window.event.srcElement;if(b==13){globalSearchForDocument()}return true}function showGlobalSearchWarning(a){if(typeof(errorsArray[a])!="undefined"){$("#searchWarningMessage").html(errorsArray[a])}else{$("#searchWarningMessage").html(a)}$("#searchPanel").html("");$("#searchWarningMessage").show()}function hideGlobalSearchWarning(){$("#searchWarningMessage").hide();$("#searchWarningMessage").html()}function globalSearchLoadPage(d,a,e,b,c){b+="?"+$("#"+e).serialize();if(b.indexOf("&action=")==-1){b+="&action=search"}b+="&pageNum="+d;b+="&clientId="+a;b+="&rand="+new Date().getTime();$("#"+a).load(b)}function makeHighlightKeywords(c,a){if(c==null||a==null||a.size()==0){return}var f=c.split(" ");var g=Math.min(f.length,40);for(var b=0;b<g;b++){var e=trim(f[b]);if(e!=null){e=e.replace(/[\)\(&\*\"]/g,"");if(e!=""){var d=new RegExp(e,"ig");a.highlightRegex(d,{className:"searchHighlight"})}}}}function makeHighlight(b,a){if(b==null||a==null||a.size()==0){return}b=b.replace(/[\)\(&\*\"]/g,"");var c=new RegExp(b,"ig");a.highlightRegex(c,{className:"searchHighlight"})}function removeHighlight(a){$(a+" .searchHighlight").each(function(){$(this).removeClass("searchHighlight")})}function globalSearchLoadFilter(b,f,e,a,c){var d=e+"_groups";$("#"+d).addClass("loadingMask");a+="?"+$("#"+c).serialize();if(a.indexOf("&action=")==-1){a+="&action=search"}a+="&pageNum=0";a+="&filterKey="+b;a+="&"+b+"_filter="+f;a+="&rand="+new Date().getTime();$("div.filterBoxSelected").removeClass("filterBoxSelected");$("#"+b+"_"+f).addClass("filterBoxSelected");$("#"+d).load(a,"",function(){if(isIE6){var g=$("#"+d).html();$("#"+d).html(g)}$("#"+d).removeClass("loadingMask")})}function gloablSearchLoadPage(b,c,a){$("#"+a).addClass("loadingMask");if(b.indexOf("&action=")==-1){b+="&action=search"}b+="&pageNum="+c;b+="&clientId="+a;b+="&rand="+new Date().getTime();$("#"+a).html("");$("#"+a).load(b,"",function(){if(isIE6){var d=$("#"+a).html();$("#"+a).html(d)}$("#"+a).removeClass("loadingMask")})}function searchToggle(){if(isIE){if(49>$("#searchDiv").attr("offsetLeft")){$("#searchDiv").css("right","4px");$("#header #right").css("right","12px")}if(49>$("#globalSearchInput").attr("offsetLeft")){$("#globalSearchInput").css("right","4px");$("#header #right").css("right","12px")}}toggleDisplay("searchModuleSelect");toggleDisplay("searchColumnSelect");toggleDisplay("searchModuleRow");toggleDisplay("searchColumnRow");toggleDisplay("searchPastDataRow");toggleDisplay("searchPromptSpan");toggleDisplay("quickSearch");if($("#searchImgId").hasClass("searchImg")){$("#searchImgId").removeClass("searchImg");$("#searchToggleExpandImgId").removeClass("searchToggleExpandImg");$("#searchImgId").addClass("searchImgHide");$("#searchToggleExpandImgId").addClass("searchToggleExpandImgHide");$(".searchIcon").css("display","")}else{$("#searchImgId").removeClass("searchImgHide");$("#searchToggleExpandImgId").removeClass("searchToggleExpandImgHide");$("#searchImgId").addClass("searchImg");$("#searchToggleExpandImgId").addClass("searchToggleExpandImg");$(".searchIcon").css("display","none")}toggleDisplay("closeRow");toggleDisplay("close");toggleDisplay("searchHelpLinkRow");var a=document.getElementById("searchTable");if(a.className=="searchTableBorder"){a.className="searchTableNoBorder"}else{if(a.className=="searchTableNoBorder"){a.className="searchTableBorder"}}}function searchForDocument(f,k,c){var l=document.getElementById("searchInput");var d=document.getElementById("searchModuleSelect");var e=document.getElementById("searchColumnSelect");var g=l.value;var b=g.replace(/ /g,"+");var a="/search_form.do?searchText="+b;if(l.value==""){l.focus();return}if(document.getElementById("searchTable").className=="searchTableBorder"){if((d.selectedIndex==-1||d.options[d.selectedIndex].value=="-1")&&(e.selectedIndex==-1)){a+="&isIdSearch=1"}else{if(d.selectedIndex>0&&d.options[d.selectedIndex].value!="-1"){a+="&searchModuleSelect="+d.options[d.selectedIndex].value;if(e.selectedIndex>-1){a+="&searchColumnSelect="+e.options[e.selectedIndex].value;if(e.options[e.selectedIndex].text=="ID"){a+="&isIdColumn=1"}}else{alert(k);e.focus();return}}else{alert(c);d.focus();return}}}else{a+="&isIdSearch=1"}a=addCSRFTokenToURL(a);location.href=a}function updateModuleColumns(){var k=document.getElementById("searchHelpLinkRow");var c=document.getElementById("searchModuleSelect");var e=document.getElementById("searchColumnSelect");if(k==null||c==null||e==null){return}if(k==null){return}if(c.selectedIndex>-1){var a=c.options[c.selectedIndex].value;if(typeof(e.module)=="undefined"||e.module!=a){var b="";var m=e.options;if(e.selectedIndex>0){b=m[e.selectedIndex].text}if(m.length>0){m.length=0}if(a>0&&searchModuleColumnsValue[a]&&searchModuleColumnsText[a]){var l=searchModuleColumnsValue[a];var d=searchModuleColumnsText[a];for(var f=0;f<l.length;f++){var g=document.createElement("OPTION");g.value=l[f];g.text=d[f];if(g.text==b){g.selected=true}m.add(g)}e.disabled=false}else{e.disabled=true}}e.module=a}}function searchKeyDown(f,g,c,d){genWindowEvent(f);var b=window.event.keyCode;var e=window.event.shiftKey;var a=window.event.srcElement;if(b==13){searchForDocument(g,c,d)}return true}function openSearchHelp(){var d=Math.floor((screen.width-500)/2);var c=Math.floor((screen.height-550)/2);var a="height=570,width=500,status=no,toolbar=no,menubar=no,location=no,resize=yes";a+=",left="+d+",top="+c;var b=window.open("/search_help.html","QuickSearch",a);if(b!=null){b.focus()}}function togglePastCurrentData(f,d){var c="/"+f;var l=false;var a="past_";var m=5;if(typeof(d)!="undefined"||d==""||d){c=c+"?moduleId="+d;l=true}if(document.forms[0]){var e=document.forms[0];var b=e.elements;for(var k=b.length;k>=0;k--){var g=b[k];if(g!=null&&typeof(g.value)!="undefined"){if(g.type=="text"&&g.name.lastIndexOf("_sch")==g.name.length-4||g.type=="select-one"&&g.name.lastIndexOf("_visibility")==g.name.length-11){var n;if(l){n=a+g.name}else{n=g.name.substring(m)}creatFormInputElement(e,"hidden",n,g.value)}if(g.type=="select-one"&&g.name.lastIndexOf("_sch")==g.name.length-4){var n;if(l){n=a+g.name}else{n=g.name.substring(m)}creatFormInputElement(e,"hidden",n,"")}creatFormInputElement(e,"hidden","refreshStartDate","true")}}}c=addCSRFTokenToURL(c);e.action=c;e.submit()}function printDocument(){window.parent.focus();window.print()}function roundOffValues(b,a){if(isValidFloat(b.value)){if(typeof a!="number"){a=2}value=getNumberFromLocaleNumber(b.value);if(typeof value=="number"){b.value=getLocaleNumberFromNumber(FormatFloat(value,a),a)}}}function changeStyleClassIfNotEmpty(a){if(a&&a.value!==""){a.className="workorder_topMiddle"}}function toggleCostCenters(d){var a=document.getElementById(d+"CollapseImg");var c=document.getElementById(d+"Row1");if(c==null||a==null){return}var b=1;if(c.style.display!="none"){while(c!=null){c.style.display="none";c=document.getElementById(d+"Row"+b);b++}a.src="/images/interface/expand.gif"}else{while(c!=null){c.style.display="";c=document.getElementById(d+"Row"+b);b++}a.src="/images/interface/collapse.gif"}}function getSrcElement(a){if(a.srcElement){return a.srcElement}else{return a.target}}function creatFormInputElement(c,b,a,d){if(typeof(c)=="undefined"||c==null){return}if(typeof c.appendChild=="undefined"&&typeof(c[0].appendChild)!="undefined"){c=c[0]}var e;e=document.createElement("INPUT");e.type=b;e.name=a;e.id=a+"_htmlId";e.value=d;c.appendChild(e)}function createOrSetFormInputElement(c,b,a,d){if(typeof(c)=="undefined"||c==null){return}if($("input[name='"+a+"']",c).size()==0){creatFormInputElement(c,b,a,d)}else{$("input[name='"+a+"']").val(d)}}function modalSubmitActionCallBack(c,b,a,d){$(".pBody form").remove();submitActionForm(b,a)}function modalSubmitCallBack(){modalReloadCallBack()}function modalReloadCallBack(){if(document.forms[0]){document.forms[0].submit()}else{location.reload()}}function manageLoadUrlCallBack(a){parent.location.href=addCSRFTokenToURL(a)}function genWindowEvent(a){if(!isIE){window.event=a}}function setFrameSrc(b,a){if(typeof b=="undefined"||b==null){return}a=addCSRFTokenToURL(a);if(false){b.location.replace(a)}else{if(a.indexOf("/")!=0&&a.indexOf("http")!=0){a="/"+a}if(isWebKit&&typeof b.tagName=="undefined"){b.location.replace(a)}else{b.src=a}}}function togglesubmit(c){var a=document.getElementsByName(c);var d=document.getElementById("btnsubmit");if(d){for(var b=0;b<a.length;b++){if(a[b].checked==true){d.disabled=false;return}}d.disabled=true}}function togglesubmitForMangeModals(b){var a=document.getElementsByName(b);if($("input[name="+b+"]:checked").size()<=0){$(".formRightButton[name='action']").attr("disabled","disabled")}else{$(".formRightButton[name='action']").removeAttr("disabled")}}function setChecked(a){var b=document.getElementById("numberOfItemseSelected");if(b!=null){if(a<0){a=0}b.innerText=a}}function setZeroChecked(){setChecked(0)}function addchecked(a){var b=document.getElementById("numberOfItemseSelected");if(b!=null){setChecked(1*(a!=0?b.innerText:0)+a)}}function getNumberChecked(){var a=document.getElementById("numberOfItemseSelected");if(a!=null){return a.innerText}else{return 0}}function calculateCheckmarksCount(b){var d=0;var a=document.getElementsByName(b);if(a){var e=a.length;for(var c=0;c<e;c++){if(a[c].checked){d++}}}setZeroChecked();setChecked(d)}function onClickCheckMarkList(a){genWindowEvent(a);var b=a.srcElement;if(b.checked){addchecked(1)}else{addchecked(-1)}return true}function toggleCheckmarksForList(a,b,c){toggleCheckmarks(a,b,c);calculateCheckmarksCount(a)}function getWorkItemManagerUrl(c,a){if(c==null||c==""){c="0"}var b="/workflow_manager.do?moduleId="+c+"&activityId="+a;return b}function getReassignWorkItemManagerUrl(c,a){if(c==null||c==""){c="0"}var b="/reassign_work_item_list.do?moduleId="+c+"&activityId="+a;return b}function goToWorkItemManagerPage(b,a){$("body").addClass("loadingMask");location.href=addCSRFTokenToURL(getWorkItemManagerUrl(b,a))}function workItemRecipientFilterOnChange(a){var c=a.options[a.selectedIndex].value;var b=getWorkItemManagerUrl(moduleId,activityId);b+="&recipientId="+c+"&srdd="+showRecipientsDropDown;location.href=addCSRFTokenToURL(b)}function workItemReassignRecipientFilterOnChange(a){var b=a.options[a.selectedIndex].value;submitActionForm(reassignWorkItemForm,"RefreshWI")}function workItemFilterOnChange(a){var e=a.options[a.selectedIndex].value;var d=e.substring(0,e.indexOf("-"));var b=e.substring(e.indexOf("-")+1);var c=getWorkItemManagerUrl(d,b);c+="&recipientId="+recipientId+"&srdd="+showRecipientsDropDown;location.href=addCSRFTokenToURL(c)}function workItemReassignFilterOnChange(a){var d=a.options[a.selectedIndex].value;var c=d.substring(0,d.indexOf("-"));var b=d.substring(d.indexOf("-")+1);submitActionForm(reassignWorkItemForm,"RefreshWI")}function findFormElement(a){if($("[name='"+a+"']").size()>0){return $("[name='"+a+"']").get(0)}else{return null}}function toggleSearchDiv(){var a=$("#searchDiv").attr("offsetLeft");$("#searchDiv").toggle();if(isIE){if(a!=$("#searchDiv").attr("offsetLeft")){$("#searchDiv").css("right","4px")}}$("#globalSearchDiv").toggle()}function linkAccountCount(a){var b=document.getElementById(a);if(b!=null){return(b.value)}}function submitDocumentActionForm(d,f,e){var a="<>";if(typeof(d.elements.action)=="undefined"||d.elements.action.type!="hidden"){creatFormInputElement(d,"hidden","action",f)}else{d.elements.action.value=f}if((d.elements.scrollPos)&&(f.match(/[<>]/)==null)){d.elements.scrollPos.value=(isWebKit?$("body").scrollTop():$("body,html").scrollTop())}var b=e.substring(0,e.indexOf("="));var c=e.substring(e.indexOf("=")+1,e.length);createFormInputHiddenElement(d,b,c);d.submit()}function createFormInputHiddenElement(b,c,d){var a=document.createElement("input");a.setAttribute("type","hidden");a.setAttribute("name",c);a.setAttribute("id",c);a.setAttribute("value",d);b.appendChild(a)}function toggleMessages(d,c,e){genWindowEvent(d);var g="0";if($("#"+e+"_img").hasClass("collapse")){g="1"}var a=addCSRFTokenToURL("/list_collapse_save.jsp?listId="+e+"&collapse="+g);$("#oDownload").load(a);if(g=="1"){$("#"+e+"_img").removeClass("collapse");$("#"+e+"_img").addClass("expand")}else{$("#"+e+"_img").removeClass("expand");$("#"+e+"_img").addClass("collapse")}var f;for(var b=0;b<c;b++){var f=document.getElementById(e+"_"+b);if(f!=null){if(g=="1"){f.style.display="none"}else{f.style.display=""}}}}function defaultCursorPlacement(){var c=false;for(var b=0;b<document.forms.length;b++){for(var a=0;a<document.forms[b].length;a++){var d=document.forms[b][a];if(d.type!="hidden"&&d.disabled!=true){if(d.style!=null&&d.style.display=="none"){continue}if(d.parentNode!=null&&d.parentNode!="undefined"&&d.parentNode.style.display!="none"){d.focus();c=true;break}}}if(c){break}}}function openOnlineHelp(b,a){helpAudit(0,1740,null);window.open("/online_help.do?moduleId="+b+"&ref="+a+"&mode=2","helpWin","toolbar=no,location=yes,resizable=yes,scrollbars=yes,width=800,height=640,screenX=50,screenY=50,left=50,top=50")}function htmlEntityDecode(b){var a=document.createElement("textarea");a.innerHTML=b.replace(/</g,"&lt;").replace(/>/g,"&gt;");return a.value}function getFile(a){a=addCSRFTokenToURL(a);window.location.href=a}function loadLocation(url){var targetWindow=window;var inSiteWindow=window;var topFound=false;var refString="window";while(targetWindow.parent!=window&&!topFound){refString+=".parent";targetWindow=eval(refString);if(targetWindow.parent==targetWindow){topFound=true}var metaData;try{metaData=targetWindow.document.getElementsByTagName("META");for(metaTagName in metaData){if(metaTagName=="Fieldglass"||metaData[metaTagName].name=="Fieldglass"){inSiteWindow=targetWindow;break}}}catch(e){}}url=addCSRFTokenToURL(url);inSiteWindow.location.href=url}function disableEnableLinks(){var a=true;objLinks=document.links;for(i=0;i<objLinks.length;i++){objLinks[i].style.cursor="default";objLinks[i].style.textDecoration="none";objLinks[i].disabled=a;if(objLinks[i].onclick&&a){objLinks[i].onclick=new Function("return false;"+objLinks[i].onclick.toString().getFuncBody())}else{if(a){objLinks[i].onclick=function(){return false}}else{if(!a&&objLinks[i].onclick.toString().indexOf("function() {return false;}")!=-1){objLinks[i].onclick=null}else{if(!a&&objLinks[i].onclick.toString().indexOf("return false;")!=-1){strClick=objLinks[i].onclick.toString().getFuncBody().replace("return false;","");objLinks[i].onclick=new Function(strClick)}}}}}}String.prototype.getFuncBody=function(){var a=this.toString();a=a.replace(/[^{]+{/,"");a=a.substring(0,a.length-1);a=a.replace(/\n/gi,"");if(!a.match(/\(.*\)/gi)){a+=")"}return a};function captureClick(a){submitToServer("/capture_click.do",a)}function submitToServer(a,c){a=addCSRFTokenToURL(a);var b=new XMLHttpRequest();b.open("POST",a,true);b.setRequestHeader("Content-Type","application/x-www-form-urlencoded");updateLastAccessTimeCookie();b.send("link="+c)}function isValidGLAllocation(d,e,a,b,c){if(trim(e.value)==""){e.value=0}var f=getNumberFromLocaleNumber(e.value);calculateGLSubTotal(d,a);calculateCCTotal(d);if($("input[name='totalAllocation']").val()!=100){$("input[name='totalAllocation']").css("color","red")}else{$("input[name='totalAllocation']").css("color","black")}if(isValidFloat(e.value)){if(f<=100&&f>=0){calculateGLSubTotal(d,a,b);calculateCCTotal(d,b)}else{alert(c);setTimeout('document.forms[0].elements["'+e.name+'"].focus()',10);return true}}else{alert(c);setTimeout('document.forms[0].elements["'+e.name+'"].focus()',10);return true}}function calculateGLSubTotal(e,a,c){var d=0;$("input[name^='glAllocationPct_"+a+"']").each(function(){if(this.type=="text"&&this.value.toString()!=""){d+=parseFloat(this.value.replace(decimalSeparator,"."))}});var b=getLocaleNumberFromNumber(d,c);if(b=="NaN"||b==NaN){b=("0.00").toString().replace(".",decimalSeparator)}$("input[name='subTotalAllocation_"+a+"']").val(b);$("#subTotalAllocation_"+a).html(b+" %")}function calculateCCTotal(d,b){var c=0;$("input[name^='glAllocationPct_']").each(function(){if(this.type=="text"&&this.value.toString()!=""){c+=parseFloat(this.value.replace(decimalSeparator,"."))}});var a=getLocaleNumberFromNumber(c,b);if(a=="NaN"||a==NaN){a=("0.00").toString().replace(".",decimalSeparator)}$("input[name='totalAllocation']").val(a)}function autoAllocateForGLCC(form,errMsg,decimalPlaces){var indexes=new Array();var ccIdArr=new Array();for(var i=0;i<form.elements.length;i++){var element=form.elements[i];if(element.name.indexOf("glAllocationPct_")==0&&element.type=="text"){var isAllocate=false;var allocationElmntName=element.name;var allocationIdstr=allocationElmntName.substring(16,allocationElmntName.length);for(var j=0;j<form.elements.length;j++){var element2=form.elements[j];if(element2.name.indexOf("glAcount_"+allocationIdstr)==0&&element2.value!=""&&element2.value!=" "){isAllocate=true;break}}if(isAllocate){indexes[indexes.length++]=element.name;var Idstr=element.name.substring(16,element.name.length);ccIdArr[ccIdArr.length++]=Idstr.substring(0,Idstr.indexOf("_"))}}}if(indexes.length==0){alert(errMsg)}else{var count=indexes.length;var percentage=(Math.round(100/count*Math.pow(10,2))/Math.pow(10,2));var total=0;var totalSub=0;for(var i=0;i<count;i++){var temp=percentage;if(i==0&&percentage*count!=100){temp=(percentage+(100-percentage*count));temp=(Math.round(temp*Math.pow(10,2))/Math.pow(10,2))}total+=temp;if(decimalSeparator!=","){eval("form."+indexes[i]).value=getLocaleNumberFromNumber(temp.toString().replace(".",decimalSeparator),decimalPlaces)}else{eval("form."+indexes[i]).value=getLocaleNumberFromNumber(temp.toString(),decimalPlaces)}}var ccIdLen=ccIdArr.length;for(var j=0;j<ccIdLen;j++){calculateGLSubTotal(form,ccIdArr[j],3)}form.totalAllocation.value=getLocaleNumberFromNumber(((Math.round(total*Math.pow(10,2))/Math.pow(10,2)).toString().replace(".",decimalSeparator)),decimalPlaces);form.totalAllocation.style.color="black"}}function openWindowInsteadOfModalWindow(e,c,f,b,a){var d="help:no;status:no;";d+=(a?"scroll:yes;":"scroll:no;");if(f&&b){d+="dialogWidth:"+f+"px;dialogHeight:"+b+"px"}e=addCSRFTokenToURL(e);window.open(e,c,d)}function removeDocument(b,e){var k=document.getElementById(e);var g=document.getElementById(b);var f=k.parentNode;var a=g.rows.length;for(var d=0;d<a&&a>1;d++){var c=g.rows[d];if(e==c.id){f.removeChild(k);break}}}function toggleDocuments(a,l,g){genWindowEvent(a);if($("#"+g+"_img").size()==0){return}var f=$("#"+g+"_img").get(0);var k="0";if(f.src&&f.src.indexOf("collapse")!=-1){k="1"}var b=addCSRFTokenToURL("/list_collapse_save.jsp?listId="+g+"&collapse="+k);$("#oDownload").load(addCSRFTokenToURL(b));if(k=="1"){f.src="/images/interface/expand_orange.gif"}else{f.src="/images/interface/collapse_orange.gif"}var d;for(var e=0;e<l;e++){var d=document.getElementById(g+"_"+e);var c=document.getElementsByClassName(g+"_"+e);if(d!=null){if(k=="1"){d.style.display="none";if(c.length>0){c[0].style.display="none"}}else{d.style.display="";if(c.length>0){c[0].style.display=""}}}}if($(a.currentTarget).parents("tr").next("tr").children("td").size()>0){if($(a.currentTarget).parents("tr").next("tr").children("td")[0].colSpan>=3){if(k=="1"){$(a.currentTarget).parents("tr").next("tr").children("td").removeClass("partialBorder")}else{$(a.currentTarget).parents("tr").next("tr").children("td").addClass("partialBorder")}}}}function updateLastAccessTimeCookie(){document.cookie="lastAccessTime="+new Date().getTime()}function addRandParamToURL(a){return a+"&rand="+new Date().getTime()}function addCSRFTokenToURL(b){if(typeof(_CSRF_TOKEN_NAME)=="undefined"||typeof(_CSRF_TOKEN_VALUE)=="undefined"){return b}if(typeof(b)=="undefined"||b==null||b==""||typeof(b.substring)=="undefined"){return b}if(b.indexOf("monitor_page_times")>-1){return b}if(b.indexOf("#")>-1){return b}var c=false;if(b.substring(0,4)=="http"||b.substring(0,1)=="/"||b.substring(0,3)=="../"){c=true}if(b.indexOf("javascript:")>-1){c=false}if((b.indexOf(".do")>-1||b.indexOf(".jsp")>-1)&&b.indexOf("mailto:")<0){c=true}if(!c){return b}var a=b.indexOf(_CSRF_TOKEN_NAME+"=");if(a!=-1){return b}a=b.indexOf("?");if(a!=-1){b=b+"&"+_CSRF_TOKEN_NAME+"="+_CSRF_TOKEN_VALUE}else{b=b+"?"+_CSRF_TOKEN_NAME+"="+_CSRF_TOKEN_VALUE}return b}function addCSRFtoForm(a){if(typeof(_CSRF_TOKEN_NAME)=="undefined"||typeof(_CSRF_TOKEN_VALUE)=="undefined"){return}if(typeof a!="undefined"&&typeof a.elements!="undefined"&&typeof a.elements[_CSRF_TOKEN_NAME]!="undefined"){return}creatFormInputElement(a,"hidden",_CSRF_TOKEN_NAME,_CSRF_TOKEN_VALUE)}function CSRFupdateTags(){if(typeof(_CSRF_TOKEN_NAME)=="undefined"||typeof(_CSRF_TOKEN_VALUE)=="undefined"){return}$("a").not("[href*='javascript']").not("[target*='_blank']").not("[href*='mailto']").each(function(){if(typeof(this.href)!="undefined"&&this.href!=null&&this.href!=""){if(this.href.indexOf(_CSRF_TOKEN_NAME+"=")==-1){this.href=addCSRFTokenToURL(this.href)}}})}function CSRFupdateForms(){if(typeof(_CSRF_TOKEN_NAME)=="undefined"||typeof(_CSRF_TOKEN_VALUE)=="undefined"){return}$("form").each(function(){addCSRFtoForm(this)})}function buildAjaxHTML(){return'<div class="dialogPanel" style="padding:12px 18px"><div class="pHeader"></div><div class="pBody"><img src="/images/interface/ajax-bar-loader.gif" alt=""/></div></div>'}function buildPanelUrl(a){if(typeof a=="undefined"||a==null||a==""){return}a=addCSRFTokenToURL(a);a=replaceURLParam(a,"rand",new Date().getTime());a=replaceURLParam(a,"isModalPanelPage","true");if(a.indexOf("%20")==-1){a=encodeURI(a)}if(a.indexOf("/")!=0){a="/"+a}return a}function replaceURLParam(c,b,e){if(c==null||b==null||c.length==0||b.length==0){return c}if(e==null){e=""}var d=new RegExp("([?|&])"+b+"=.*?(&|$)","i");if(c.match(d)){c=c.replace(d,"$1"+b+"="+e+"$2")}else{c=c+"&"+b+"="+e}var a=c;return a}function replaceURLParams(b,e){if(e==null||e.length==0||b==null||b.length==0){return b}var d=e.split("&");for(var a=0;a<d.length;a++){var c=d[a].split("=");if(c.length>0&&c[0].length>0){if(c.length==1){c[1]=""}b=replaceURLParam(b,c[0],c[1])}}return b}function reloadChatPanel(b){if($("#modalChatPanel").size()>0){var a=buildPanelUrl($("#modalChatPanel").attr("url"));if(typeof a=="undefined"||a==null||a==""){closeChatPanel();return}a=replaceURLParams(a,b);closeChatPanel();showChatPanel(a,null,false,true);$("#modalChatPanel").html(buildAjaxHTML());$("#modalChatPanel").load(a,function(){$(".jqmClose").click(closeChatPanel)})}return}function showChatPanel(a){showDialogPanel(a,null,false,true)}function reloadDialogPanel(d){if($("#modalPanel").size()>0){var b=buildPanelUrl($("#modalPanel").attr("url"));b=replaceURLParams(b,d);var c=$(".jqmWindow").hasClass("jqmWindowWide");var a=($("#modalChatPanel:visible").size()>0);showDialogPanel(b,null,true,a,c)}return}function showSegCustomFieldInline(b,a,c){if(typeof(IS_SEGMENTED_FILED_OPEN)!="undefined"&&IS_SEGMENTED_FILED_OPEN){alert(getMessage("label.pleaseUpdateOtherSCF"));return false}showInlinePanel(b,a);$("#"+c).hide()}function showInlinePanel(b,a){b=buildPanelUrl(b);$("#"+a).html("<div class='processing'></div>");$("#"+a).show();$("#"+a).load(b);return true}function hidePanel(a,b){$("#"+a).hide();IS_SEGMENTED_FILED_OPEN=false;if(typeof b!="undefined"){b()}}function showDialogPanel(a,f,k,e,c,b,n){var l=loadDialogPanelCallBack;if(typeof n!=="undefined"&&"onLoad" in n){l=function(){loadDialogPanelCallBack.apply(this,arguments);n.onLoad.call(this,arguments)}}var g=closeDialogPanelCallBack;if(typeof n!="undefined"&&"onClose" in n){g=function(){closeDialogPanelCallBack.apply(this,arguments);n.onClose.call(this,arguments)}}if(typeof(e)=="undefined"){e=false}if(e){$("#modalChatPanel").attr("url",a)}else{$("#modalPanel").attr("url",a)}if(typeof(f)=="undefined"){f=false}a=buildPanelUrl(a);var d=buildAjaxHTML();if(typeof(c)=="undefined"){c=false}if(!e){if(c){$(".jqmWindow").css("width","");$(".jqmWindow").addClass("jqmWindowWide")}else{$(".jqmWindow").removeClass("jqmWindowWide")}}hidePdfs();$("*:focus").attr("had-focus","true");if(e){$("#modalChatPanel").jqm({ajax:a,ajaxText:d,ajaxPostData:(typeof b!="undefined")?b:null,modal:false,onLoad:l,overlay:0});$("#modalChatPanel").jqmShow();IS_CHAT_PANEL_ON=true}else{if(IS_JQ_PANEL_ON){$("#modalPanel").html(d);if($("#modalPanel").css("display")=="none"){$("#modalPanel").css("display","block")}$("#modalPanel").load(a,(typeof b!="undefined")?b:null,function(){$(".jqmClose").click(closeDialogPanel)});return}if($("#modalPanel").size()==0){if(parent.document.getElementById("modalPanel")!=null){parent.showDialogPanel(a,f,k,e,c,b)}return}var m=isWebKit?$("body").scrollTop():$("body,html").scrollTop();if(isNaN(m)||m==0){$("#modalPanel").css("top","102px")}else{$("#modalPanel").css("top",m+100)}$("#modalPanel").draggable({handle:".pHeader ",scroll:true,containment:"document",start:function(){var o=isWebKit?$("body").scrollTop():$("body,html").scrollTop();if(isNaN(o)||o==0){$(this).data("startingScrollTop",0)}else{$(this).data("startingScrollTop",(o+80)*1)}},drag:function(p,q){if(isWebKit){var o=parseInt($(this).data("startingScrollTop"));q.position.top-=o}},stop:function(p,q){if(isWebKit){var o=parseInt($(this).data("startingScrollTop"));q.position.top-=o}},distance:10});$("#modalPanel").jqm({ajax:a,ajaxText:d,ajaxPostData:(typeof b!="undefined")?b:null,modal:true,trigger:f,onLoad:l,onHide:g,toTop:true,overlay:40});$("#modalPanel").jqmShow();IS_JQ_PANEL_ON=true}}function loadDialogPanelCallBack(){$("#main :tabbable").attr("aria-hidden","true");$("#main :tabbable").attr("tabindex","-1");if(isIE6){$("select").not("#modalPanel select").css("display","none");window.setTimeout('$("select").not("#modalPanel select").css("display","none");',200)}if(isIE7&&$(".calendarPan").size()>0){var a=$("#calendar1");a.remove();$("body").prepend(a)}}function closeChatPanel(){try{$("#modalChatPanel").jqmHide()}catch(a){}$("#modalChatPanel #action_htmlId").remove();closeChatPanelCB()}function closeChatPanelCB(){showPdfs();$("ul.socialBarButtons>li").removeClass("activeSocialLink");pointerAnchor="";IS_CHAT_PANEL_ON=false}function closeDialogPanel(){showPdfs();try{$("#modalPanel").jqmHide()}catch(a){}$("#modalPanel form").remove();pointerAnchor="";$("ul.socialBarButtons>li").removeClass("activeSocialLink");IS_JQ_PANEL_ON=false}var closeDialogPanelCallBack=function(b){$("[aria-hidden='true']").attr("tabindex","0");$("[aria-hidden='true']").removeAttr("aria-hidden");try{$("[had-focus='true']").focus()}catch(a){}$("[had-focus='true']").attr("had-focus","");if(isIE6){$("select").css("display","")}b.w.fadeOut("0",function(){$("#modalPanel").html("");if(b.o){b.o.remove()}});IS_JQ_PANEL_ON=false;listViewValidationCustomOnSubmitFunction=null;showPdfs();retunrValueMethod=null;retunrValueArguments=null};function showModalPanelErrorWithIcon(b,a){if(typeof a=="undefined"){if(isIE){a="div.dialogPanel span.errorText"}else{a="div.pBody span.errorText";if($(a).size()==0){a="div.dialogPanel span.errorText"}}}b=b.replace(/\n/g,"<br/>");if(b.length==0){$(a).html("")}else{$(a).html('<div class="errorDiv"><div class="errorrow clearfix"><span class="errorIcon2"></span><div class="globalError">'+b+"</div></div></div>")}}function showModalPanelErrorArrayWithIcon(e,a){if(typeof a=="undefined"){if(isIE){a="div.dialogPanel span.errorText"}else{a="div.pBody span.errorText";if($(a).size()==0){a="div.dialogPanel span.errorText"}}}var b='<div class="errorDiv">';for(var c=0;c<e.length;c++){var d=e[c];d=d.replace(/\n/g,"<br/>");b+='<div class="errorrow clearfix"><span class="errorIcon2"></span><div class="globalError">'+d+"</div></div>"}b+="</div>";$(a).html(b)}function showModalPanelError(b){var a;if(isIE){a="div.dialogPanel span.errorText"}else{a="div.pBody span.errorText";if($(a).size()==0){a="div.dialogPanel span.errorText"}}$(a).html(b)}function showModalPanelWarning(b){var a;if(isIE){a="div.dialogPanel span.warningText"}else{a="div.pBody span.warningText";if($(a).size()==0){a="div.dialogPanel span.warningText "}}$(a).html(b)}function showModalPanelWarningWithIcon(b){var a;if(isIE){a="div.dialogPanel span.warningText"}else{a="div.pBody span.warningText";if($(a).size()==0){a="div.dialogPanel span.warningText "}}b=b.replace(/\n/g,"<br/>");$(a).html('<div class="warnDiv"><div class="errorrow clearfix"><span class="warningIcon"></span><div class="globalWarning">'+b+"</div></div></div>")}function hideModalPanelError(){var a;if(isIE){a="div.dialogPanel span.errorText"}else{a="div.pBody span.errorText";if($(a).size()==0){a="div.dialogPanel span.errorText"}}$(a).removeClass("errorIcon");$(a).html("")}function hideModalPanelWarning(){var a;if(isIE){a="div.dialogPanel span.warningText"}else{a="div.pBody span.warningText";if($(a).size()==0){a="div.dialogPanel span.warningText"}}$(a).removeClass("warningIcon");$(a).html("")}function getUpdateFavoriteURL(e,a,d,f,c){var b="/make_favorite.jsp?id=";b+=a;b+="&action=";b+=e;if(typeof d!="undefined"){b+="&moduleId=";b+=d}if(typeof f!="undefined"){b+="&creatorId=";b+=f}if(typeof c!="undefined"){b+="&recipientId=";b+=c}b+="&rand="+new Date().getTime();b=addCSRFTokenToURL(b);return b}function makeFavorite(e,c,d,b){var a=getUpdateFavoriteURL("add",e,c,d,b);$.get(a,{},favoriteCallBack)}function removeFavorite(d,c,b){var a=getUpdateFavoriteURL("remove",d,0,c,b);$.get(a,{},function(e){favoriteCallBack(e)})}function favoriteCallBack(a){if(typeof a!="undeifned"&&a!=null&&trim(a)!=""){showDocumentError(trim(a),"")}else{hideDocumentError()}}function hideDocumentError(){$("span#errorContainer span.errorText").removeClass("errorIcon");$("span#errorContainer span.errorText").css("margin-left","0px");$("span#errorContainer span.errorText").css("margin-top","0px");$("span#errorContainer span.errorText").html("")}function showDocumentError(a){$("span#errorContainer span.errorText").addClass("errorIcon");$("span#errorContainer span.errorText").css("margin-left","10px");$("span#errorContainer span.errorText").css("margin-top","10px");$("span#errorContainer span.errorText").html(a)}function loadFusionChart(a,b,k,e,d,g,f){var c=new FusionCharts(a+"/swf/charts/"+g,k,e,d,"0","0");c.setDataXML(f);c.setTransparent(true);c.render(b)}function isFlashEnabled(){if(typeof(FlashDetect)!="undefined"&&!FlashDetect.installed){return false}return true}function loadAdvisorHorizontalLinarGauge(f,c,n,l,k,b,g,d,o){if(!isFlashEnabled()){$("#"+n).html(f);return}$("#"+n).html("<div>"+l+'</div><div id="'+n+'Chart"></div>');var a="240";var e="72";var m=buildHorizontalLinarGaugeXML(l,k,b,g,d,o);loadFusionChart(c,n+"Chart",n+"ChartId",a,e,"HLinearGauge.swf",m)}function buildHorizontalLinarGaugeXML(n,l,b,g,d,q){var k=new Array();var c=["F6BD0F","CDD8EA","819ECA"];var a=100;if(typeof d!="undefined"){a=d}for(var e=0;e<b.length;e++){if(b[e]>a){a=b[e]}}var p=0;if(typeof q!="undefined"){p=q}k.push(p);for(var e=0;e<b.length;e++){if(b[e]<p){p=b[e]}else{k.push(b[e])}}p=Math.max(0,p);var f="";if(typeof l!="undefined"){f=l}var o='<Chart  bgColor="FFFFFF" bgAlpha="0" showBorder="0" tickValueStep="4" upperLimit="'+a+'" lowerLimit="'+p+'" majorTMHeight="7" minorTMHeight="2" ';if(f!=""){o+=' numberSuffix="'+f+'" '}o=o+"  palette=\"1\" showValue='1' >\n";if(k.length==3){c=["F6BD0F","CDD8EA","819ECA"]}else{c=["F6BD0F","819ECA"]}o=o+"<colorRange>\n";for(var m=0;m<k.length;m++){o=o+'<color minValue="'+Math.max(0,k[m])+'" maxValue="'+Math.max(0,(isNaN(k[m+1])?a:k[m+1]))+'" code="'+c[m]+'" />\n'}o=o+"</colorRange>\n";if(typeof(b)!="undefined"&&b!=null){o=o+"<trendpoints>";for(var e=0;e<b.length;e++){if(e==0||(e>0&&b[e]>0)){o=o+"<point startValue='"+b[e]+"' markerTooltext=\""+g[e]+" \"  color='666666' thickness='1' alpha='100'  dashed='1' dashLen='3' dashGap='2'";o=o+' useMarker="1" markerRadius="4" ';if(e>0){o=o+' showOnTop="0" '}o=o+"/>"}}o=o+"</trendpoints>"}o+="</Chart>\n";return o}function openRateGuidance(c,a,e,d){var b="/rate_guidance_side_by_side_view.jsp";b+="?moduleId="+c;b+="&jptId="+a;b+="&postalCode="+e;if(d!=null&&d!=""&&d!="null"){b+="&siteTier="+d}fgShowModalDialog(b,"",950,400)}function setPeriodOptions(f,e,c){for(var d=0;d<=f.length-1;d++){var a=f[d].split(":");document.forms[e].elements[c].options[d]}}function initBrowserLayout(){if(isWebKit){$("table.formGroupTable caption:has(div.right)").css("min-height","29px");$("table.list").css("overflow","visible");$("table.adminViewTable caption:has(div.right)").css("height","29px");$("table.form").css("overflow","visible");$("table.review").css("overflow","visible");$("table.review caption").css("padding","4px 1px 4px 0px");$(".actionMenuButton").css("top","0")}if(!isIE){$(".actionMenuButton").css("position","relative");var a=document.forms;for(var c=0;c<a.length;c++){var d=a[c];window[d.name]=a[c]}}if(isIE11){$("caption").each(function(){var e=null;if($(this).closest("table.form").size()>0){e=$(this).closest("table.form").css("width")}if(typeof(e)!="undefined"&&e!=null&&e!="100%"){$(this).css("width",e)}});$("table.form caption").css("display","block")}if(isIE7){$(".actionMenuButton").css("position","relative");$(".actionMenuButton").css("line-height","22px")}if(!(isIE6||isIE7)){$("img").each(function(){if($(this).attr("title")==""){$(this).attr("title",$(this).attr("alt"))}})}if(isIE6||isIE7){if($("table.list").size()>0){$("table.list").width("auto")}if($("listTopBorder").size()>0){$(".listTopBorder").css("padding","0")}if($("span.searchIcon").size()>0){$("span.searchIcon").css("top","0")}$("#splitWindowList[widthFixed!=yes]").width($("#splitWindowList").width()-17);$("#splitWindowList").attr("widthFixed","yes");if($("input.info").size()>0){$("input.info").each(function(){$(this).removeClass("info");$(this).addClass("info")})}}if(isIE6){if($("div.captionDiv").size()>0&&$("div.right").size()>0){$("div.captionDiv :has(div.right)").css("position","relative")}if($("div.right").size()>0){$("div.right").css("position","relative")}if($("div.left").size()>0){$("div.left").css("position","relative")}if($("div.right input").size()>0){$("div.right input").css("position","relative")}}if(isIE6||isIE7){$(".actionHeaderTable #help .helpLink").css("top","10px")}$("input[enableAfterLoad='yes']").removeAttr("disabled");setAutoWidthSelets();$("table.list").each(function(){var e=$("#"+this.id+"_Div").get(0);if(e){if(e.className=="listScrollDiv"){if($(this).width()>$(e).width()){$(".listScrollDiv").css("overflow-x","scroll")}else{$(".listScrollDiv").css("overflow-x","hidden")}}}});if(isIE6||isIE7){}initRadioBox();var b=function(g){var f=document.getElementById("currentStepDiv");var e=document.getElementById("buttonsPosition");var k=5;if(f){if($("li").hasClass("listLink")){$("#buttonsPosition").css("margin-top",(k+65)+"px");$("#currentStepDiv").css("top",(k+65)+"px")}else{$("#buttonsPosition").css("margin-top",(k+43)+"px");$("#currentStepDiv").css("top",(k+70)+"px")}}else{if($("li").hasClass("listLink")){if($("li").hasClass("hidden")){if($("li").hasClass("fr")){$("#buttonsPosition").css("margin-top",(k+55)+"px");$(".socialBar").css("margin-top","41px")}else{$("#buttonsPosition").css("margin-top",(k+15)+"px");$(".titleheaderpan").css("margin","5px 0 5px 0")}}else{$("#buttonsPosition").css("margin-top",(k+55)+"px");$(".socialBar").css("margin-top","41px")}}else{$("#buttonsPosition").css("margin-top",(k+15)+"px");$(".titleheaderpan").css("margin","5px 0 5px 0")}}if($("ul#listpanlink > li").length>0){$("#buttonsPosition").css("margin-top","58px")}};$(function(){$(".auditTrailList .sourceClass").each(function(){if($(this).text()===""){$(this).remove()}});$("ul#listpanlink > li.listLink").parent().removeClass("emptyCell");var e=$(".sideBarItem.sideBarItemSelected");if(e.length==0){e=$(".sideBarItem")}if(e.length==0){o=$("#sideBarBackLink");o.addClass("hidden");if($("#listpanlink > li").length==1){if($("li").hasClass("listLink")){if($("li").hasClass("hidden")){$("#listpanlink").addClass("emptyCell")}else{$("#buttonsPosition").css("margin-top",60+"px")}}}b(false);return}var m=e.parents(".sideBarItemsList");if(m.find(".sideBarItem a").length<2){o=$("#sideBarBackLink");o.addClass("hidden");if($("#listpanlink > li").length==1){if($("li").hasClass("fr")){$("#buttonsPosition").css("margin-top",60+"px")}else{$("#listpanlink").addClass("emptyCell")}}b(false);return}var n=getMessage("label.details");var k=null;m.find("a").each(function(){var q=$(this);if(q.text()==n){k=q}});var f=null;var l=null;var p=e.find("a");var g=p.attr("href");if(p.length==0||(p.text()==n&&document.location.href.indexOf(g.substring(0,g.indexOf("?")))>=0)){f=m.find(".sideBarItemsTitleUnderline");l=""}else{if(k!=null){f=$(k[0].parentNode);l=k.text()}}if(f!=null){var o=$("#sideBarBackLink");o.find("a").attr("href",f.find("a").attr("href"));o.find("a .linkText").text(l);o.show()}b(true)});if(isIE7||isIE8){$("ul.phaseList li:last-child").css("background-repeat","no-repeat").css("background-position","10px -5px");if($("table.rateScheduleTimeSheetForm").length>0){$("table.rateScheduleTimeSheetForm tr.timeSheetTableMainHeader th").css("border-top","1px solid #c9c9c9");$("table.rateScheduleTimeSheetForm tr.timeSheetTableMainHeader:first-child th").css("border-top","1px solid #ffffff")}}setTimeout(function(){if($("#goToAdmiinLink")){$("#goToAdmiinLink").parent().removeClass("emptyCell")}},10);$("div, span, li").on("keypress",function(g){var f=g.keyCode||g.which;if(f=="13"){var k=g.target;if(typeof g.target=="undefined"){k=g.srcElement}if(typeof k!="undefined"){if(k.tagName=="DIV"||k.tagName=="SPAN"||k.tagName=="LI"||k.tagName=="IMG"||k.tagName=="A"){if($(k).is(":focus")&&((k.tagName!="A"&&k.tabIndex==0)||(k.tagName=="A"&&k.className=="archiveLink"&&k.onclick!=null))){var e=true;g.stopPropagation();if(($(k).text()==getMessage("label.edit")&&(k.id=="refLinkText1"||k.id=="refLinkText"))||(k.id=="helpMenuOpener")||(k.id=="accountOpener")){e=false}$(k).trigger("click");if(e==false){return false}}}}}});$("li[tabindex=0]").attr("role","link");$("div[tabindex=0]").attr("role","link");$("span[tabindex=0]").attr("role","link");$("#helpMenu").attr("role","menu");$("#helpMenu").children().attr("role","menuitem")}function initRadioBox(){if($("input[type='radio']").size()>0){$("input[type='radio']:checked").closest(".radioBox").addClass("radioBoxSelected");$("input[type='radio']").click(function(){if($(this).closest(".radioBox").size()>0){$("input[name='"+this.name+"']").closest(".radioBox").removeClass("radioBoxSelected");$("#"+this.id).closest(".radioBox").addClass("radioBoxSelected")}$(this).closest("div.requiredField").removeClass("requiredFieldCls")});$(".radioContainer").closest("div.requiredField").each(function(){if($(this).find("input[type='radio']").size()>0&&$(this).find("input[type='radio']:checked").size()==0){$(this).closest("div.requiredField").addClass("requiredFieldCls")}});$("input[type='checkbox']").closest("div.requiredField").each(function(){if($(this).find("input[type='checkbox']").size()>0&&$(this).find("input[type='checkbox']:checked").size()==0){$(this).closest("div.requiredField").addClass("requiredFieldCls")}});$("input[type='checkbox']").closest("div.requiredField").click(function(){if($(this).find("input[type='checkbox']").size()>0&&$(this).find("input[type='checkbox']:checked").size()==0){$(this).closest("div.requiredField").addClass("requiredFieldCls")}else{$(this).closest("div.requiredField").removeClass("requiredFieldCls")}})}}function customizePmoPref(a,e,d,c,f){if(a!=null&&a!=""){$("#"+a).hide()}var b="/customize_pmo_pref.do?pref_id="+e;b+="&action="+d;if(typeof(c)!="undefined"&&c!=null){b+="&pref_value="+c}b+="&time="+new Date().getTime();b=addCSRFTokenToURL(b);if(f){$.ajax({url:b,success:function(){f()}})}else{$.ajax({url:b})}}function updatePersonPref(a,e,d,c,f){if(a!=null){$("#"+a).hide()}var b="/update_pref.do?pref_id="+e;b+="&action="+d;if(typeof(c)!="undefined"&&c!=null){b+="&pref_value="+c}b+="&time="+new Date().getTime();b=addCSRFTokenToURL(b);if(f){$.ajax({url:b,success:function(){f()}})}else{$.ajax({url:b})}}var isWIMenuOpen=false;var toggleMenuInfo={menuItemClicked:null};function initMenuLayout(){$("li.menuOpener").click(toggleMenus);$(".workitemcon").click(toggleWiMenu);initActionMenu();isWIMenuOpen=false;var b=function(f,g,c,d){var e=($(g).css("display")!="none");toggleMenus.apply(f[0],[]);if(e){f.find("."+c).removeClass(d);toggleMenuInfo.menuItemClicked=null}else{f.find("."+c).addClass(d);toggleMenuInfo.menuItemClicked=f[0]}window.setTimeout(function(){toggleMenuInfo.menuItemClicked=null},300)};$("li#helpMenuOpener").click(function(){b($(this),"#helpMenu","helpicon","activeHelp")});$("li#accountOpener").click(function(){b($(this),"#accountMenu","activelinkedUserName ","activeHelp");if($(".menuLinkHover").width()>=285){$("#accountMenu").css("width",$(".linkedUserName").width()+100)}});$(".messageicon").click(function(){location.href="/message_center.do"});$("li#helpMenuOpener, li#adminOpener, .activelinkedUserName").hover(function(){$(this).addClass("hoverTovnav")},function(){$(this).removeClass("hoverTovnav")});$(".drowdownlinkedUser").hover(function(){$(this).addClass("hoverHelplink")},function(){$(this).removeClass("hoverHelplink")});if(typeof menuItemSelect!=="undefined"){$("li.item").click(menuItemSelect)}if($("#createMenu > ul.menuColumns > li.column").length>2){$("#createMenu").css("left",-($("#homeMenuTitle").outerWidth()+$("#viewMenuTitle").outerWidth()))}$("#analyticsMenu  ul.menuColumns li.column div ul.columnList").last().css("border-right","1px solid white");$("#viewMenu  ul.menuColumns li.column div ul.columnList").last().css("border-right","1px solid white");$("#createMenu  ul.menuColumns li.column div ul.columnList").last().css("border-right","1px solid white");$("#testMenu  ul.menuColumns li.column div ul.columnList").last().css("border-right","1px solid white");$("li.menuOpener > #euaActionMenu > ul.menuColumns li.column:last-child > div > ul.columnList").css("border-right","1px solid #ffffff");if($("#analyticsMenu .groupedItem").length>=1){if($("#analyticsMenu .groupedItem").length===3){$(".groupedItem:first-child").css({"border-bottom":"none","border-top-left-radius":"5px","border-top-right-radius":"5px"});$(".groupedItem:nth-child(2)").css({"border-top":"none","border-bottom":"none"});$(".groupedItem:nth-child(3)").css({"border-top":"none","border-bottom-left-radius":"5px","border-bottom-right-radius":"5px"})}else{if($("#analyticsMenu .groupedItem").length===2){$(".groupedItem:first-child").css({"border-bottom":"none","border-top-left-radius":"5px","border-top-right-radius":"5px"});$(".groupedItem:nth-child(2)").css({"border-top":"none","border-bottom-left-radius":"5px","border-bottom-right-radius":"5px"})}else{if($("#analyticsMenu .groupedItem").length===1){$(".groupedItem").css({"border-radius":"5px"})}}}}$("li.item").hover(function(){$(this).addClass("hoverlink")},function(){$(this).removeClass("hoverlink")});$(".linkInnerTbl tr").hover(function(){$(this).addClass("hoverlink")},function(){$(this).removeClass("hoverlink")});$(".linkInnerTbl .div").hover(function(){$(this).addClass("hoverHelplink")},function(){$(this).removeClass("hoverHelplink")});$("#accountMenu li.item").hover(function(){$(this).addClass("hoverHelplink")},function(){$(this).removeClass("hoverHelplink")});$("#helpMenu li").hover(function(){$(this).addClass("hoverHelplink")},function(){$(this).removeClass("hoverHelplink")});if($(".personalSettings > li").length==3){$(".personalSettings > li").css("width","33%")}else{if($(".personalSettings > li").length==2){$(".personalSettings > li").css("width","50%")}}if($("#wiCount").size()>0){var a="/get_wi_count.jsp";a+="?rand="+new Date().getTime();a=addCSRFTokenToURL(a);$.ajax({url:a,success:function(c){updateWiCount(trim(c))}})}$("div.mega").each(function(){$(this).css({visibility:"hidden",display:"block"});var c=0;$(this).find("ul.menuColumns li.column div ul.columnList").each(function(){c+=$(this).outerWidth()});$(this).css("width",c);$(this).css({visibility:"",display:"none"})});$("span.menuItemFullDesc").click(function(d){d.stopPropagation();var c=$(this).attr("id");var e=c.split("_")[0];c=c.substr(0,c.length-5);$("#"+c+"_2").css("display","inline");$("#"+c+"_more").hide();$("#"+c+"_more2").hide();$("#"+c+"_less").show();$("#"+c+"_2").slideDown(200,function(){$("#"+e+"  ul.menuColumns li.column div ul.columnList").css("height","auto");$("#"+e).attr("heightSet","0");setMenuHeight(e)})});$("span.menuItemPartDesc").click(function(d){d.stopPropagation();var c=$(this).attr("id");var e=c.split("_")[0];c=c.substr(0,c.length-5);$("#"+c+"_more").show();$("#"+c+"_more2").show();$("#"+c+"_less").hide();$("#"+c+"_2").slideUp(200,function(){$("#"+e+"  ul.menuColumns li.column div ul.columnList").css("height","auto");$("#"+e).removeAttr("heightSet");setMenuHeight(e+"Menu")})});$("a.menuToggleDescriptionLink").click(function(d){d.stopPropagation();var c=$(this).attr("id");var e=c.split("_")[0];$("li.item[id^='"+e+"'] span").toggle();$("li.header[id^='"+e+"'] span").toggle();$("#"+e+"_hideDescriptionLink").toggle();$("#"+e+"_showDescriptionLink").toggle();$("#"+e+"  ul.menuColumns li.column div ul.columnList").css("height","auto");$("#"+e).removeAttr("heightSet");setMenuHeight(e);updatePersonPref(null,"pref_hide_create_menu_descriptions","add",(($("#"+e+"_hideDescriptionLink").css("display")=="none")?"1":"0"))});if(isIE7||isIE8){$(".workitemcon").css("width",$(".workitemText").outerWidth()+$("#wiCount").outerWidth()+10)}}function initActionMenu(){if($(".actionMenuButton").size()>0){$(".actionMenuButtonOpener").click(toggleActionMenu);$(".actionMenuButton").hover(function(){$(this).addClass("formButtonhover")},function(){$(this).removeClass("formButtonhover")})}if(typeof onactionItemSelect!="undefined"){if(isRtl()){$("#actionMenu").css("left",$("#actionMenuTitle").position().left-(($("#actionMenu").outerWidth()-$("#actionMenuTitle").outerWidth())+10))}else{$("#actionMenu").css("left",$("#actionMenuTitle").position().left+10)}if(isIE7||isIE6){$("#actionMenu").css("top",$("#actionMenuTitle").position().top+59);$("#actionMenu").css("left",$("#actionMenuTitle").position().left+10)}$("#actionMenu li.item").click(onactionItemSelect)}}function setAutoWidthSelets(){if(isIE7||isIE8){$("select.autoWidth").bind("mousedown",function(a){a.stopPropagation();if(typeof this.originalWidth=="undefined"){this.originalWidth=$(this).css("width")}$(this).css("width","auto");$(this).css("z-index","200");return false});$("select.autoWidth").bind("blur change",function(a){if(typeof this.originalWidth!="undefined"){$(this).css("width",this.originalWidth)}else{$(this).css("width","100%")}$(this).css("z-index","")})}}function initModalDialogWindow(){defaultCursorPlacement();window.name="modalWindow"+new Date().getTime();copyDialogArguments();attachEventsToButtons();for(var c=0;c<document.forms.length;c++){document.forms[c].target=window.name}var e=document.createElement("input");e.setAttribute("type","hidden");e.setAttribute("name","isModalPage");e.setAttribute("value","true");for(var a=0;a<document.forms.length;a++){var f=document.forms[a];if(f.isModalPage){continue}f.appendChild(e)}if(typeof(document.onkeypress)=="undefined"||document.onkeypress==null){document.onkeypress=modalWindowKeyPressEvent}if(isIE){document.body.onmousewheel=new function(){}}if(typeof(window.dialogWidth)=="undefined"){if(!isIE){if(window.outerHeight>window.screen.availHeight){window.outerHeight=(window.screen.availHeight-50)}var b=(screen.availHeight-parseInt((window.outerHeight)))/2;var d=(screen.availWidth-parseInt((window.outerWidth)))/2;window.screenX=d;window.screenY=b}return}resizeModalWindow();if(!isIE6&&!isIE7){$(".action").css("overflow-x","hidden")}setScreenLocation();setScrollBars()}function adjustHeightForSP2(){if(isborwserVersionSP2){var a=21;if($("ul.messageList").html()&&$("ul.messageList").html().length>200){a+=40}window.dialogHeight=((window.dialogHeight.substr(0,window.dialogHeight.length-2))*1+a)+"px"}}function resizeModalWindow(){if(typeof(window.dialogWidth)=="undefined"){return}if(window.dialogArguments=="forcesize"){if(window.dialogHeight.lastIndexOf("1")!=(window.dialogHeight.length-3)){adjustHeightForSP2()}return}if(window.dialogArguments=="forceheight"){adjustHeightForSP2();return}else{var a=(document.getElementById("bodySpan").offsetHeight+25);if(a>window.screen.availHeight){a=(screen.availHeight-20);document.body.scroll="yes"}if(isborwserVersionSP2){if($("ul.messageList").html()&&$("ul.messageList").html().length>200){a+=40}a+=20}$("#bodySpan").css("height",a+"px");window.dialogHeight=a+"px"}if(window.dialogArguments=="forcewidth"){return}else{var b=(document.getElementById("actionHeader").innerHTML).length;if(b<=55){var c=(document.getElementById("bodySpan").offsetWidth+50);$("#bodySpan").css("width",c+"px");window.dialogWidth=c+"px"}else{if(b<=65&&b>55){var c=(document.getElementById("bodySpan").offsetWidth+100);$("#bodySpan").css("width",c+"px");window.dialogWidth=c+"px"}else{var c=(document.getElementById("bodySpan").offsetWidth+125);$("#bodySpan").css("width",c+"px");window.dialogWidth=c+"px"}}}}function copyDialogArguments(){if(window.dialogArguments){for(i=0;i<document.forms.length;i++){for(j=0;j<window.dialogArguments.length;j++){if(typeof window.dialogArguments[j]!="undefined"){creatFormInputElement(document.forms[i],"hidden","dialogArguments",window.dialogArguments[j])}}}}}function processNxtSegmentForLookup(e,f,n,k,q){isProcessFlag=true;if(f==10){showModalPanelErrorWithIcon("");isProcessFlag=false;return}var l="select_";var p="__segment"+f;var m=document.getElementById(l+e+p);if(m.value==""){return}var c=document.getElementById("segmentedFieldTbl_"+e);var b="";for(var g=1;g<=f;g++){var o=document.getElementById(l+e+"__segment"+g);if(o!=null){b+="&segment"+g+"_value="+encodeURIComponent(o.value)}}var a=encodeURI("/supplier_classification_lookup.do?customFieldID="+n+"&pickListId="+k+"&rid="+q+"&htmlName="+(e)+"&segment="+(f))+(b);var d=document.getElementById("progress_"+f);if(d!=null){d.className="processing"}new fgNet.executeRequest(a,fgNet.GET_REQUEST,null,prepareNextSequenceForLookup)}function prepareNextSequenceForLookup(response){var segmentObj=eval("("+response+")");var processingCell=document.getElementById("progress_"+(segmentObj.seq.id-1));var correctCell=1;for(i=1;i<=10;i++){processingCell=document.getElementById("progress_"+(segmentObj.seq.id-i));if(processingCell!=null){correctCell=i;break}}if(processingCell!=null){processingCell.className="segmentProgress"}var cfObject=eval(segmentObj.rid);hideModalPanelError();hasErrorFlag=false;var elmexists=document.getElementById("segmentLabel"+segmentObj.customFieldId+"__"+segmentObj.seq.id);if(segmentObj.isNextSegment&&!elmexists){var ssui=segmentObj.seq.ssui;processingCell.innerHTML=("<span class='linkLookaLike'  tabIndex='0'  role=\"link\"   onclick=\"enableCFEdit("+(segmentObj.seq.id-correctCell)+", '"+segmentObj.customFieldId+"', '"+segmentObj.property+"','"+segmentObj.rid+"')\">Edit</span>");var html='<span id="segmentRow_'+segmentObj.property+"_"+(segmentObj.seq.id*1)+'"><div class="label"  id="segmentLabel'+segmentObj.customFieldId+"__"+segmentObj.seq.id+'">'+segmentObj.seq.columnLabel+'</div><div class="selectSegmentTd requiredField"  >'+getHTMLByDataType(ssui.selectedId,ssui.selectedValue,ssui.isEnablefreeText,ssui.isMandatory,false,ssui.value,ssui.label,ssui.property,ssui.optionsName,ssui.onSelect,ssui.applicationMessage,ssui.allowMultiSelect,ssui.dbid,ssui.qid,ssui.qparams,ssui.dataType,ssui.visible)+'</div><div class="segmentProgress"  id="progress_'+(segmentObj.seq.id)+'"></div></span>';$("#segmentedFieldTbl_"+segmentObj.customFieldId).append(html);if(ssui.dataType!="CLASS_SUPP_USER_ENTERED"){initSmartSelect(ssui.property,ssui.optionsName,ssui.value,ssui.label,ssui.onSelect,ssui.applicationMessage,ssui.dbid,ssui.qid,ssui.qparams)}var previousSelect=document.getElementById("select_"+segmentObj.property+"__segment"+(segmentObj.seq.id-1));var previousSegmentId=1;if(previousSelect==null||previousSelect=="undefined"){for(i=1;i<=10;i++){previousSelect=document.getElementById("select_"+segmentObj.property+"__segment"+(segmentObj.seq.id-i));if(previousSelect!=null){previousSegmentId=i;break}}}previousSelect.disabled=true;if(segmentObj.seq.id!=null){cfValue="";for(var i=1;i<=segmentObj.seq.id;i++){var segmentElm=document.getElementById(segmentObj.property+"__segment"+i);if(segmentElm!=null){cfValue+=segmentElm.value;if(i<segmentObj.seq.id-1){cfValue+=cfObject.delim}}}}tmpHolder.push({seqId:segmentObj.seq.id-1,seq:segmentObj.seq})}else{if(segmentObj.seq.id!=null){cfValue="";for(var i=1;i<=segmentObj.seq.id;i++){var segmentElm=document.getElementById("label_"+segmentObj.customFieldId+"__segment"+i);if(segmentElm!=null){cfValue+=segmentElm.value;if(i<segmentObj.seq.id-1){cfValue+=cfObject.delim}}}}}isProcessFlag=false;initBrowserLayout()}function processNxtSegment(e,f,n,k,q){isProcessFlag=true;if(f==10){showModalPanelErrorWithIcon("");isProcessFlag=false;return}var l="select_";var p="__segment"+f;var m=document.getElementById(l+e+p);if(m.value==""){return}var d=document.getElementById("segmentedFieldTbl");var c="";for(var g=1;g<=f;g++){var o=document.getElementById(l+e+"__segment"+g);c+="&segment"+g+"_value="+encodeURIComponent(o.value)}var b=encodeURI("/segment.do?customFieldID="+n+"&pickListId="+k+"&rid="+q+"&htmlName="+(e)+"&segment="+(f))+(c);var a=$("#progress_"+e+"_"+f);a.removeClass("segmentProgress");a.addClass("processing");new fgNet.executeRequest(b,fgNet.GET_REQUEST,null,prepareNextSequence)}function prepareNextSequence(response){var segmentObj=eval("("+response+")");var cfObject=eval(segmentObj.rid);var $processingCell=$("#progress_"+segmentObj.property+"_"+(segmentObj.seq.id-1));if($processingCell.size()==0){$("div[id^='progress_']").removeClass("processing")}else{$processingCell.removeClass("processing");$processingCell.addClass("segmentProgress")}hideModalPanelError();hasErrorFlag=false;var elmexists=document.getElementById("segmentLabel"+segmentObj.property+"__"+segmentObj.seq.id);if(segmentObj.isNextSegment&&!elmexists){var ssui=segmentObj.seq.ssui;$processingCell.html("<span class='linkLookaLike'  tabIndex='0' role=\"link\"    onclick=\"enableCFEdit("+(segmentObj.seq.id-1)+", '"+segmentObj.customFieldId+"', '"+segmentObj.property+"','"+segmentObj.rid+"')\">Edit</span>");var html='<span id="segmentRow_'+segmentObj.property+"_"+(segmentObj.seq.id*1)+'"><div class="label"  id="segmentLabel'+segmentObj.property+"__"+segmentObj.seq.id+'">'+segmentObj.seq.columnLabel+'</div><div class="selectSegmentTd requiredField"  >'+getSmartselectHTML(ssui.selectedId,ssui.selectedValue,ssui.isEnablefreeText,ssui.isMandatory,false,ssui.value,ssui.label,ssui.property,ssui.optionsName,ssui.onSelect,ssui.applicationMessage,ssui.allowMultiSelect,ssui.dbid,ssui.qid,ssui.qparams,true)+'</div><div class="segmentProgress"  id="progress_'+segmentObj.property+"_"+(segmentObj.seq.id)+'"></div></span>';$("#segmentedFieldTbl_"+segmentObj.property).append(html);initSmartSelect(ssui.property,ssui.optionsName,ssui.value,ssui.label,ssui.onSelect,ssui.applicationMessage,ssui.dbid,ssui.qid,ssui.qparams);var previousSelect=document.getElementById("select_"+segmentObj.property+"__segment"+(segmentObj.seq.id-1));var $customFieldElement=$("#progress_"+segmentObj.property+"_"+(segmentObj.seq.id-1)+" > span");previousSelect.disabled=true;if(segmentObj.seq.id!=null){cfValue="";for(var i=1;i<=segmentObj.seq.id;i++){var segmentElm=document.getElementById(segmentObj.property+"__segment"+i);if(segmentElm!=null){cfValue+=segmentElm.value;if(i<segmentObj.seq.id-1){cfValue+=cfObject.delim}}}}tmpHolder.push({seqId:segmentObj.seq.id-1,seq:segmentObj.seq})}else{if(segmentObj.seq.id!=null){cfValue="";for(var i=1;i<=segmentObj.seq.id;i++){var segmentElm=document.getElementById("label_"+segmentObj.customFieldId+"__segment"+i);if(segmentElm!=null){cfValue+=segmentElm.value;if(i<segmentObj.seq.id-1){cfValue+=cfObject.delim}}}}}isProcessFlag=false;initBrowserLayout()}function enableCFEdit(seg,cfid,property,rid){var cfObject=eval(rid);for(var i=10;i>=1;i--){if(i>seg){$("#segmentRow_"+cfObject.property+"_"+i).remove()}}var $previousSelect=$("#select_"+property+"__segment"+(seg));$previousSelect.removeAttr("disabled");$previousSelect.val("");$("#"+property+"__segment"+(seg)).val("");hideModalPanelError();hasErrorFlag=false;initBrowserLayout();$("#progress_"+property+"_"+seg).html("")}function resetSegmentedField(a){$("#label_"+a).val("")}function removerImgRemoveAll(b,a){var c=null;if(a){c=$(a).parents(".attachment-widget")}else{c=$(document)}c.find("."+b+"_remover").closest("table").remove()}function removerImgRemoveAllCF(a){$("."+a+"_remover").closest("tr").remove()}function removerImgRemoveRow(c,b){var f=$(c).closest("tr");var a=$(c).parent();if(a.attr("rowspan")>1||typeof(b)!="undefined"){var e=a.attr("rowspan");if(typeof(b)!="undefined"){e=b;e++}for(var d=1;d<e;d++){f.next().remove()}}f.remove()}function removeAttachmentRow(c,g,b,e,d){var a=null;if(b!=undefined&&b!=""){a="object_id_"+b+"_attachment_id_"+g}else{if(isNullOrEmpty(d)){a="attachment_id_"+g}else{a=d+".attachment_id_"+g}}var f=$('input[name="'+a+'"]');if(isNullOrEmpty(d)===false&&f.length===0){a="attachment_id_"+g;f=$('input[name="'+a+'"]')}f.val("removed");if(isNullOrEmpty(d)){removerImgRemoveRow(c)}if(isNullOrEmpty(d)===false){removeAttachmentsFromSession(e,[g],d,function(){removerImgRemoveRow(c)})}}function removeAttachmentAll(f,a,e,d,b){var g="";if(a!=null){g="object_id_"+a+"_attachment_id_"}else{if(isNullOrEmpty(d)){g="attachment_id_"}else{g=d+".attachment_id_"}}var k=$("input[name^='"+g+"']");if(isNullOrEmpty(d)===false&&k.length===0){g="attachment_id_";k=$("input[name^='"+g+"']")}var c=[];k.each(function(){if($(this).val()!=="removed"){c.push($(this).attr("name").substring(g.length))}});k.val("removed");if(isNullOrEmpty(d)){removerImgRemoveAll(f,b)}if(isNullOrEmpty(d)==false&&c.length>0){removeAttachmentsFromSession(e,c,d,function(){removerImgRemoveAll(f,b)})}}function removeAttachmentsFromSession(c,e,b,a){var d={action:"remove",moduleId:c,attachmentIds:e.join(),widgetId:b};d[_CSRF_TOKEN_NAME]=_CSRF_TOKEN_VALUE;$.post("/attachment.do",d,function(f){if(f.success==true){a(e)}else{alert(f.messages.join(""))}},"json")}function editBuyerSupplierReference(c,b,m,n){var l=document.getElementById("referenceTagDisplay");var k=document.getElementById("refLinkText");var g=document.getElementById("referenceTagDisplay1");var f=document.getElementById("refLinkText1");var e=document.getElementById("referenceTagInputDiv");if(n=="Edit"){if(document.getElementById("refLinkText")!=null&&document.getElementById("refLinkText")!="undefined"){if(document.getElementById("refLinkText").innerHTML==getMessage("label.edit")){var d=document.getElementById("referenceTagDisplay").innerText;g.value=d;g.style.display="";g.style.align="center";f.style.display="";f.style.align="center";l.style.display="none";e.style.display="";document.getElementById("refLinkText").innerHTML=getMessage("label.save")}else{if(document.getElementById("refLinkText").innerHTML==getMessage("label.save")){var d=document.getElementById("referenceTagDisplay1").value;var a=document.forms.buyerSupplierReferenceTagForm;creatFormInputElement(a,"hidden","id",b);creatFormInputElement(a,"hidden","referenceTag",d);creatFormInputElement(a,"hidden","moduleId",c);submitActionForm(a,"label.update")}}}}else{if(n=="Cancel"){if(document.getElementById("refLinkText1").innerHTML==getMessage("label.cancel")){document.getElementById("refLinkText").innerHTML=getMessage("label.edit");g.style.display="none";l.style.display="";f.style.display="none";e.style.display="none"}}}return}function loadInitialReference(){var d=document.getElementById("referenceTagDisplay");var c=document.getElementById("referenceTagDisplay1");var b=document.getElementById("refLinkText1");var a=document.getElementById("referenceTagInputDiv");if(document.getElementById("refLinkText")!=null&&document.getElementById("refLinkText")!="undefined"){if(document.getElementById("refLinkText").innerHTML==getMessage("label.edit")){c.style.display="none";b.style.display="none";a.style.display="none"}}}function searchReference(c,d,b){var a="reference_search.jsp?documentId="+c+"&moduleId="+d;showDialogPanel(a,"","","",true,"")}function addErrorToFormLabel(g,e){var c=g+"_errorBox";var b=$("label[for='"+g+"']");b.addClass("errorColor");if($("#"+c).size()>0){$("#"+c).html(e);return}var a=$("#"+g+"_infoIcon");var f=b.closest("div.colContainer");var d='<div class="formError errorColor"  id="'+g+'_errorBox" >'+e+"</div>";if(b.size()>0){if(f.size()>0){f.after(d)}else{if(a.size()>0){a.after(d)}else{b.after(d)}}}return}function removeErrorToFormLabel(c){var b=c+"_errorBox";var a=$("label[for='"+c+"']");a.removeClass("errorColor");if($("#"+b).size()>0){$("#"+b).html("");return}}function useJsonDataToUpdateFields(c){if(typeof(c)=="undefined"||c==null||c==""||typeof(c.length)=="undefined"){return}for(var b=0;b<c.length;b++){var d=c[b];if(typeof(d)!="undefined"&&d!=null){if(d.error=="yes"){addErrorToFormLabel(d.fieldId,d.errorStr)}else{if(typeof(d.name)!="undefined"&&d.name!=null){var f=d.name;var a=d.html;var e=d.value;if(typeof(a)!="undefined"&&a!=null){$("#"+f).html(a)}else{if($("#"+f).size()>0){$("#"+f).val(e);if(e!=""){$("#"+f).removeClass("requiredFieldCls")}}else{$("input[name='"+f+"']").val(e);if(e!=""){$("input[name='"+f+"']").removeClass("requiredFieldCls")}}}removeErrorToFormLabel(f)}else{if(d.hide=="yes"){$("#"+d.fieldId).hide()}else{if(d.show=="yes"){$("#"+d.fieldId).show()}else{if(d.removeAttr=="yes"){$("#"+d.fieldId).removeAttr("disabled")}}}}}}}}function updateSelectionsStats(c,a,d){var b="/sa_help/update_offline_statistics.jsp";var e=new Object();e.moduleId=c;e.name=a;e.value=d;e.rand=(new Date()).getTime();if(typeof(_CSRF_TOKEN_NAME)!="undefined"&&typeof(_CSRF_TOKEN_VALUE)!="undefined"){e[_CSRF_TOKEN_NAME]=_CSRF_TOKEN_VALUE}$.post(b,e,function(f){})}function fixForDetailPageWithFormsNew(){$("#document").css("background-color","#D3D3D3");$("#main").css("padding","0 30px");$("#disclaimer").css("margin","50px 0 20px 0")}function initNewFormPage(){initInfoIcons();if(!isIE6&&!isIE7){$("div[id$='_errorBox']").each(function(){var d=this.id.substring(0,this.id.length-9);var c=$("label[for='"+d+"']");if(c.offset()){if(this.offsetLeft!=c.offset().left){if(c.offset().left-this.offsetLeft-30>0&&$("input[name='isModalPanelPage']").size()==0){$(this).css("margin-left",(c.offset().left-this.offsetLeft-30))}}}})}if($("div.formError").size()==0&&$("div.formErrorNoArrow").size()==0&&$("span.globalFormErrors div.errorrow").size()>=1){}else{setScroll()}var a=false;if($("div.formWarningNoArrow").size()>0){a=true}else{if($("div.formErrorNoArrow").size()>0){a=true}}if($("div.formError").size()==0&&!a&&$("span.globalFormErrors div.errorrow").size()<=1){$(".allFormErrors").show()}if($("div[id$='_errorBox']").size()>0){var b=$("div[id$='_errorBox']").attr("id");if(typeof b!="undefined"){b=b.substring(0,b.indexOf("_errorBox"));$("input#"+b).focus()}}initRequiredFields();addViewAllErrors()}function initRequiredFields(){var a=function(d,b){var c=b.closest("div.mobileCalendar");if(c.size()>0){if(b.val()==""||b.val()==getDateFormatUILabel()){c.addClass("requiredFieldCls")}else{c.removeClass("requiredFieldCls")}}else{if(b.val()==""||b.val()==getDateFormatUILabel()){b.addClass("requiredFieldCls")}else{b.removeClass("requiredFieldCls")}}};$(".requiredField input").bind({keydown:function(b){a(b,$(this))},keyup:function(b){a(b,$(this))},blur:function(b){a(b,$(this))},focus:function(b){a(b,$(this))}});$(".requiredField textarea").bind({keydown:function(b){a(b,$(this))},keyup:function(b){a(b,$(this))},blur:function(b){a(b,$(this))},focus:function(b){a(b,$(this))}});$(".requiredField select").bind({change:function(b){if($(this).val()==""||$(this).val()=="-1"){$(this).addClass("requiredFieldCls")}else{$(this).removeClass("requiredFieldCls")}}});$(".requiredField select").each(function(){if($(this).val()==""||$(this).val()=="-1"){$(this).addClass("requiredFieldCls")}});$(".requiredField textarea").each(function(){if($(this).val()==""){$(this).addClass("requiredFieldCls")}});$(".requiredField input").each(function(){if($(this).val()==""||$(this).val()==getDateFormatUILabel()){$(this).addClass("requiredFieldCls")}});$(".requiredField").has('input.customPickListEdit[value=""]').find(".actionLinkText").addClass("requiredFieldCls");$(".requiredField div.mobileCalendar").has("input[value='']").addClass("requiredFieldCls");$(".requiredField div.mobileCalendar").has("input[value='"+getDateFormatUILabel()+"']").addClass("requiredFieldCls")}function toggleEndDateEntry(){$("#endDateDisplay").html("");$("#durationEntry").toggle();$("#endDateEntry").toggle();$("#durationLink").toggle();$("#endDateLink").toggle()}function updateEndDate(c,b,a){var d=$("form[name='"+c+"']").get(0);if(d==null||typeof d=="undefined"){d=document.forms[c]}calculateEndDate(d,getDateFormat(),b,a);var e;if(a==null||a==""||a==undefined){e=$("#endDate").val()}else{e=$(a).val()}if(isValidDateWithFormat(e,getDateFormat())&&isGoodDateWithFormat(d.startDate,getDateFormat())){$("#endDateDisplay").html(" "+e)}else{$("#endDateDisplay").html("")}}function loadFormSearch(c,b){hideGlobalSearchWarning();var d=new Object();d.action="search";d.rand=new Date().getTime();var a=$('form[name="'+c+'"]').serializeArray();jQuery.each(a,function(e,f){d[f.name]=f.value});$("#searchPanel").load(b,d,function(){if(isIE6){var e=$("#searchPanel").html();$("#searchPanel").html(e)}})}function searchFromSource(b,a){$("#searchPanel").html('<img src="/images/interface/ajax-bar-loader.gif" alt=""/>');loadFormSearch(b,a)}function radioBrowserAdjustments(){if(isNav){$(".radioBox label").css("line-height","20px")}if(isIE6||isIE7){$(".radioBox label").css("line-height","20px");$(".radioBox label").css("vertical-align","middle");$(".radioBox").css("padding-top","2px")}}function newFormBrowserAdjustments(){radioBrowserAdjustments();if(isIE7||isIE8){$(".backArrow").css("margin-bottom","2px")}}function changeTextToCalculatedInfo(a){if(trim(a.innerHTML)==getMessage("label.calculated")){if(a.tagName=="TD"||a.tagName=="A"||a.tagName=="SPAN"){a.title=getMessage("label.calculatedMouseOver")}}}function initFusionCharts(){if(typeof FusionCharts!="undefined"){}}function openPreApprovalForm(b){var a="tenant_selection_form.do?moduleId=1690&nextURL=/pre_approval_form.do";addCSRFTokenToURL("tenant_selection_form.do?moduleId=1190&nextURL=/pre_approval_form.do");if(typeof b!=="undefined"){a+="?preSelectedTempalteId="+b}a=addCSRFTokenToURL(a);location.href=a}function openServiceTemplateForm(b){var a="tenant_selection_form.do?moduleId=540&nextURL=/pay_terms_request_form.do";addCSRFTokenToURL("tenant_selection_form.do?moduleId=540&nextURL=/pay_terms_request_form.do");if(typeof b!=="undefined"){a+="?templateTypeId="+b}a=addCSRFTokenToURL(a);location.href=a}function highlightAdmin(){$(".searchHighlight").each(function(){var d=$(this).text();$(this).replaceWith(d)});var c=trim($("#adminSearch").val());if(c!=null&&c.length>2){var a=$("#adminMegaList");makeHighlight(c,a);var b=$(".searchHighlight").size();$("#adminItemCount").html(b);$("#adminItemsMsg").show();if(b==1){$("#adminItemCount_single").show();$("#adminItemCount_multiple").hide()}else{$("#adminItemCount_single").hide();$("#adminItemCount_multiple").show()}}else{$("#adminItemsMsg").hide();$("#adminItemCount_single").hide();$("#adminItemCount_multiple").hide()}return true}function goToTsBulkApproval(){location.href="/buyer/time_sheet_approval_manager.do"}function goToMyProfile(){location.href="/my_profile.do"}function showDelims(a){if(a.value!="csv"&&a.value!="csvDO"){$("#delimDiv").css("display","none")}else{$("#delimDiv").css("display","inline-block")}}function getRadioCheckedValue(a){var c=document.forms[0].elements[a];if(typeof(c)!="undefined"||c!=null){for(var b=0;b<c.length;b++){if(c[b].checked){return c[b].value}}return""}}function openSocialDialog(){var g=$(this).attr("id");if(typeof pointerAnchor!="undefined"){if(IS_CHAT_PANEL_ON&&g==pointerAnchor){closeChatPanel();return}}if(IS_CHAT_PANEL_ON){closeChatPanel()}var e=$(this).attr("moduleId");var a=$(this).attr("objectId");var c=$(this).attr("baseObjectId");var d=$(this).attr("objectRef");var f=$(this).attr("userType");var b=null;switch(g){case"sb_annotation":var b="/annotation.do?moduleId=2010&reminderType=1";break;case"sb_chat":var b="/chat.do?moduleId=";if(f=="2"){b+="2040"}else{b+="2030"}break;case"sb_chat_services":var b="/chat.do?moduleId=";if(f=="2"){b+="2041"}else{b+="2031"}break;case"sb_reminder":var b="/reminder.do?moduleId=2000&reminderType=2";break;case"sb_advisor":showAdvisor();break;case"sb_star":var b="/star.do?moduleId=2020&activityId=0";break}if(b!=null){b+="&relatedModuleId="+e;b+="&relatedObjectId="+a;if(c!=null){b+="&baseObjectId="+c}if(d!=null){b+="&relatedObjectRef="+d}showChatPanel(b)}return}function initSocialBar(){$(".socialBarButtons li").hover(function(){$(this).addClass("selected")},function(){$(this).removeClass("selected")});$(".socialBarButtons li").click(openSocialDialog)}function openFullJsAnnotation(e,a,c,d,f){if(IS_CHAT_PANEL_ON){closeChatPanel()}var b="/annotation_full.do?moduleId=2010&reminderType=1";if(b!=null){b+="&relatedModuleId="+e;b+="&relatedObjectId="+a;if(c!=null){b+="&baseObjectId="+c}if(d!=null){b+="&relatedObjectRef="+d}if(f!=null){b+="&relatedTitle="+f}showDialogPanel(b)}return}function deleteSocialItemPrompt(e,f,b,d){var c=$("#"+e+"actions_"+f);c.closest(".panelBox").addClass("removeSocialItem");c.hide();var a='<span id="message_actions_'+f+'" class="removeMsg">'+b+'&nbsp;&nbsp;&nbsp;<span class="actionLink actionLinkText removeMsg" role="link" onclick="'+d+"('"+f+"')\">"+getMessage("label.yes")+'</span><span class="actionLink actionLinkText removeMsg" role="link" onclick="cancelDeleteSocialItem(\''+e+"','"+f+"')\">"+getMessage("label.no")+"</span></span>";c.after(a)}function cancelDeleteSocialItem(b,c){var a=$("#"+b+"actions_"+c);$("#message_actions_"+c).remove();a.show();a.closest(".panelBox").removeClass("removeSocialItem")}function editSocialItem(e,f,c,k,l){var b='<span id="'+e+"message_textentry_"+f+'">'+getTextareaControlHtml("message_entry_"+f,null,l,65,null,c)+"</span>";var d=$("#"+e+"message_"+f);var g=$("#"+e+"actions_"+f);d.hide();d.after(b);$("textarea[name='message_entry_"+f+"']").val(d.html().replace(/<br>/ig,"\n"));textCounter($("textarea[name='message_entry_"+f+"']").get(0),$("#message_entry_"+f+"_counter").get(0),l);g.hide();var a='<span id="message_actions_'+f+'"><span class="actionLink actionLinkText" role="link" onclick="cancelEditSocial(\''+e+"','"+f+"')\">"+getMessage("label.cancel")+'</span><span class="actionLink actionLinkText" role="link" onclick="'+k+"('"+f+"')\">"+getMessage("label.save")+"</span></span>";g.after(a);g.closest(".panelBox").css("border-color","#666666")}function cancelEditSocial(c,d){var a=$("#"+c+"message_"+d);var b=$("#"+c+"actions_"+d);$("#"+c+"message_textentry_"+d).remove();$("#message_actions_"+d).remove();a.show();b.show();b.closest(".panelBox").css("border-color","")}function toggleActionBtnSocial(){var a=$("#message");if(a.size()>0){if(a.val().length>0){$("input[name=actionBtn]").removeAttr("disabled");$("input[name=actionBtn]").removeClass("disabledOrangeBtn")}else{$("input[name=actionBtn]").attr("disabled","disabled");$("input[name=actionBtn]").addClass("disabledOrangeBtn")}}}function enterJobDuration(){$("#endDateDisplay").html("");$("#durationEntry").css("display","");$("#durationLink").css("display","none");$("#endDateEntry").css("display","none");$("#endDateLink").css("display","")}function enterEndDate(){$("#endDateDisplay").html("");$("#endDateEntry").css("display","");$("#endDateLink").css("display","none");$("#durationEntry").css("display","none");$("#durationLink").css("display","")}var dynaTableIndex=0;function queryStringToJsonObject(c){var b=new Object();var a=c.split("&");$.each(a,function(){var e=this.split("=");if(e[0]){var d=e[0],f=e[1];if(b[d]){if(!b[d].push){b[d]=[b[d]]}b[d].push(f||"")}else{b[d]=f||""}}});return b}setupDynaTable=function(e){var q=e.items;var m=e.parent;var u=null;var c=true;if("enableAutoAdd" in e){c=e.enableAutoAdd}if("itemCallback" in e){u=e.itemCallback}var d=e.props;var f="dt"+(dynaTableIndex++)+"_r";var r=$(m);var k=r.find(".template");var o={$parent:r,enableAutoAdd:c};var b=function(y){var x=0;var w=y?false:true;var z=$(y);r.find("tr.itemrow").each(function(){var A=$(this);if(A.hasClass("template")){return}if(w==false&&A.attr("id")==z.attr("id")){w=true}if(w){n.onIndex.apply(o,[A,x]);if(u&&("onIndex" in u)){u.onIndex.apply(o,[A,x])}}x++})};var p=0;var a=function(y){var x=k[0].cloneNode(true);var w=$(x);w.attr("id",f+p);n.onAdd.apply(o,[y,w]);if(u&&("onAdd" in u)){u.onAdd.apply(o,[y,w,p])}r[0].appendChild(x);w.removeClass("template").addClass("itemrow");b(w);p++};var l=function(y,x){var w=$(y);n.onRemove.apply(o,[w]);if(u&&("onRemove" in u)){u.onRemove.apply(o,[w])}w.remove();if(x){b()}};var n={onAdd:function(z,w){var y;for(var x=0;x<d.length;x++){var A=d[x];y=w.find("."+A);if(typeof y.attr("value")=="undefined"){y.text(z[A])}else{y.val(z[A])}if(o.enableAutoAdd){y.bind("focus",g)}}w.find(".remover,.removerSmall").bind("click",t)},onRemove:function(w){var y;if(o.enableAutoAdd){for(var x=0;x<d.length;x++){var z=d[x];y=w.find("."+z);y.unbind("focus",g)}}w.find(".remover,.removerSmall").unbind("click",t)},onIndex:function(w,x){for(var y=0;y<d.length;y++){var z=d[y];w.find("."+z).attr("name",z+"["+x+"]")}}};var t=function(){var w=$(this).parents(".itemrow");l(w,true);g()};var g=function(){if(o.enableAutoAdd==false){return}var w=r.find(".itemrow:last");var x=w.find("."+d[0])[0];if(!x||x.value!=""){a({})}};var s=function(){r.find(".itemrow").each(function(){l($(this),false)});if(o.enableAutoAdd){g()}};r.find("#img_removeAdj_All").bind("click",s);for(var v=0;v<q.length;v++){a(q[v])}if(o.enableAutoAdd){g()}o.add=a;o.remove=l;o.clear=s;return o};function getWizardFormElement(g,k,a){var e=g.content[k].choice.length;var b=0;for(var d=0;d<e;d++){if(trim(g.content[k].choice[d].answer)!=""){b=Math.max(b,trim(g.content[k].choice[d].answer).length)}}var f=false;if(e<4||b>150){f=true}var c='<span id="q_containter_'+k+'">';c+="<div class='resourceWizardQuestion clearfix'>"+g.content[k].statement+"</div>";c+="<div class='resourceWizardAnswer clearfix";if(f){c+=" requiredFieldCls"}c+="'>";if(f){c+=getWizardRadioHTML(g,k)}else{c+=getWizardSelectHTML(g,k)}c+=' <a href="javascript:void(0)" style="display:none;padding-top:8px" class="fl" id="q_clear_'+k+'"  onclick="clearWizard('+k+')">'+a+"</a>";c+="</div>";c+="</span>";return c}function getWizardSelectHTML(d,e){var c=d.content[e].choice.length;var a='<select class="requiredFieldCls" style="margin-top:3px" id="'+d.content[e].id+'" name="'+d.content[e].id+'"> ';a+='<option value=""></option>';for(var b=0;b<c;b++){if(trim(d.content[e].choice[b].answer)!=""){a+='<option value="'+d.content[e].choice[b].questionItemId+'">'+d.content[e].choice[b].answer+"</option>"}}a+="</select>";return a}function getWizardRadioHTML(e,g){var c=e.content[g].choice.length;var a="<span class='displayCell' > <div class='radioContainer'>";for(var b=0;b<c;b++){if(trim(e.content[g].choice[b].answer)!=""){var f=e.content[g].id;var d=e.content[g].choice[b].questionItemId;a+='<div class=\'radioBox\'><input  type="radio" name="'+f+'" id="'+f+"_"+d.replace(".","_")+'" value="'+d+'"> <label for="'+f+"_"+d.replace(".","_")+'">'+e.content[g].choice[b].answer+"</label></div>"}}a+="</div></span>";return a}var clearWizard=function clearWizardFunc(b){for(var a=formContent.content.length-1;a>b;a--){$("[name='question"+a+"']").remove();$("[name='answer"+a+"']").remove();$("[name='next"+a+"']").remove();$("#q_containter_"+a).remove();$("#q_containter_"+a+" .resourceWizardAnswer").removeClass("resourceWizardAnswerSet")}currentID=b;selectedId=b;$("[name=q"+currentID+"]").removeAttr("disabled");$("#q_containter_"+currentID+" .resourceWizardAnswer").removeClass("resourceWizardAnswerSet");$("#wizardDecision").html("");$("#wizardDecision").hide;$("[name='decision']").val("");$("select[name='q"+a+"']").val("");$("[name='q"+a+"']").css("display","");$("[name='q"+a+"']").parent().removeClass("radioBoxSelected");$("[name='q"+a+"']").parent().css("display","");$("[name='q"+b+"']").removeAttr("checked");$("#q_clear_"+b).hide();$("#wizardSuccess").hide()};function openStandAloneWizard(c,b){var a="/resource_wizard.do?id="+c+"&accessedForm="+b;showDialogPanel(a,"#wizardOpender",true,false,false)}function initCookieBasedRegisteredRoutines(){var routines=readCookie("cookieRegisteredRoutines");eval(routines)}function addCookieRegisteredRoutine(a){appendCookie("cookieRegisteredRoutines",a+";")}function removeCookieRegisteredRoutine(a){var b=readCookie("cookieRegisteredRoutines");if(b!=null){createCookie("cookieRegisteredRoutines",b.replace(a,""))}else{eraseCookie("cookieRegisteredRoutines")}}function appendCookie(a,b,d){var c=readCookie(a);if(c!=null){createCookie(a,c+b,d)}else{createCookie(a,b,d)}}function createCookie(c,d,e){var a="";if(e){var b=new Date();b.setTime(b.getTime()+(e*24*60*60*1000));a="; expires="+b.toGMTString()}document.cookie=escape(c)+"="+escape(d)+a+"; path=/"}function readCookie(b){var e=escape(b)+"=";var a=document.cookie.split(";");for(var d=0;d<a.length;d++){var f=a[d];while(f.charAt(0)==" "){f=f.substring(1,f.length)}if(f.indexOf(e)==0){return unescape(f.substring(e.length,f.length))}}return null}function eraseCookie(a){createCookie(a,"",-1)}if(("SodPanel" in window)==false){SodPanel={}}function editSodPanel(a){var b="/editSod.do";showDialogPanel(b,true,true,false,false,a)}function setupSodEvents(a,b){$(function(){$("div.sod .sodLabel, .sodLabelPopup").hover(function(){if($(this).parents("div.sod").find(".sodLabelPopup").html()!=""){$(this).parents("div.sod").find(".sodLabelPopup").show()}},function(){if($(this).parents("div.sod").find(".sodLabelPopup").html()!=""){$(this).parents("div.sod").find(".sodLabelPopup").hide()}});$("div.sodEditLabel").bind("click",function(){var d=$(this).parents("div.sod");SodPanel.$sod=d;var c={sodHolderId:d.find(".holderId").text(),moduleId:a,sodName:d.find(".sodName").text(),sodParentObjectAttr:b,sodIndex:"",sodHolderNameAndCode:d.find(".holderNameAndCode").text()};editSodPanel(c)})})}var originalPos=null;var submitBarHeight=null;var pixelsFromBottom=null;var submitBar=null;var submitBarWidth=null;var dynamicBottomHeight=false;$.fn.isOnScreen=function(d){var c=$(window);var a={top:c.scrollTop(),left:c.scrollLeft()};a.right=a.left+c.width();a.bottom=a.top+c.height();if(typeof d=="undefined"){var b=this.offset();b.right=b.left+this.outerWidth();b.bottom=b.top+this.outerHeight()}else{var b=$.extend({},d)}return(!(a.right<b.left||a.left>b.right||a.bottom<b.top||a.top>b.bottom))};var reCalculateOffset=function(b,c,a){if($("#disclaimer").size()>0){b.top=$("#disclaimer").offset().top+$("#disclaimer").height()-c;b.bottom=b.top+a}else{b.top=$(document).height()-c;b.bottom=b.top+a}return b};var isDynamicBottomHeight=function(){return $(".contentWrapper").length>0&&$(".contentWrapper").height()+"px"==$(".contentWrapper").css("min-height")};var calculatePixelsFromBottom=function(){if($("#disclaimer").size()>0){return $("#disclaimer").offset().top+$("#disclaimer").height()-originalPos.top}else{return $(document).height()-originalPos.top}};var repositionDummyTempActionBar=function(){var a=10;$(".dummyTempActionBar").css({top:originalPos.top,left:originalPos.left,height:originalPos.bottom-originalPos.top+a,width:originalPos.right-originalPos.left})};$(window).load(function(){var a=$(".formNavigationContainer, .actionButtonsArea").length>0;if(a){submitBar=$(".formNavigationContainer, .actionButtonsArea");if(submitBar.hasClass("dontPin")||enablePinnedActionBar===false){return}submitBarHeight=submitBar.outerHeight();submitBarWidth=submitBar.width();$(".fixedNav").css("width",submitBarWidth);originalPos=submitBar.offset();originalPos.bottom=originalPos.top+submitBarHeight;originalPos.right=originalPos.left+submitBarWidth;dynamicBottomHeight=isDynamicBottomHeight();pixelsFromBottom=calculatePixelsFromBottom();$(window).on("resize scroll",pinActionBar);$(document).on("click",function(){setTimeout(function(){originalPos=reCalculateOffset(originalPos,pixelsFromBottom,submitBarHeight);repositionDummyTempActionBar();pinActionBar()},1000)});$("input, select").on("keydown",function(d){var c=d.keyCode||d.which;if(c=="9"){originalPos=reCalculateOffset(originalPos,pixelsFromBottom,submitBarHeight);repositionDummyTempActionBar();pinActionBar()}});pinActionBar();autoScrollOnFocus()}var b=$(".footerInnerWrapper").length>0;if(b){autoScrollOnFocus()}});var pinActionBar=function(){if(dynamicBottomHeight){if(!isDynamicBottomHeight()){originalPos=submitBar.offset();pixelsFromBottom=calculatePixelsFromBottom();originalPos=reCalculateOffset(originalPos,pixelsFromBottom,submitBarHeight);dynamicBottomHeight=false}}if(submitBar.isOnScreen(originalPos)){if($("#formContainer").width()!="auto"){submitBarWidth=$("#formContainer").width();submitBar.css("width",submitBarWidth)}submitBar.removeClass("fixedNav");$(".dummyTempActionBar").remove();if(submitBar.parent(".fixedNavWrapper").length>0){submitBar.unwrap()}}else{if(!submitBar.hasClass("fixedNav")||$("#formContainer").width()!="auto"){submitBarWidth=$("#formContainer").width();submitBar.addClass("fixedNav");submitBar.css("width",submitBarWidth);if(submitBar.parent(".fixedNavWrapper").length>0){submitBar.unwrap()}submitBar.wrap("<div class='fixedNavWrapper'></div>")}if($(".dummyTempActionBar").size()==0){$("body").append('<div class="dummyTempActionBar" style="position:absolute;padding: 0; margin: 0;"></div>');repositionDummyTempActionBar()}}};var onFocusEvent=function(b){var a=0;if(typeof submitBar!=="undefined"&&submitBar!==null){a=submitBar.hasClass("fixedNav")?$(".fixedNavWrapper").outerHeight():0}if(a==0){if($(".footerInnerWrapper").length>0){a=$(".footerInnerWrapper").parent().outerHeight()}}if(typeof b!="undefined"&&b!=null&&(b.size()>0)&&typeof b.offset()!="undefined"){if(b.offset().top-$(window).scrollTop()+b.outerHeight()+a>$(window).height()){$("html, body").animate({scrollTop:(b.offset().top-($(window).height()/2))+"px"},"fast")}}return true};function autoScrollOnFocus(){$(document).on("focus","input[type='text']",function(){onFocusEvent($(this))});$(document).on("focus","input[type='radio']",function(){onFocusEvent($(this))});$(document).on("focus","input[type='checkbox']",function(){onFocusEvent($(this))});$(document).on("focus","input[type='password']",function(){onFocusEvent($(this))});$(document).on("focus","select",function(){onFocusEvent($(this))});$(document).on("focus","textarea",function(){onFocusEvent($(this))});$("input, select").on("keydown",function(b){var a=b.keyCode||b.which;if(a=="9"){onFocusEvent($(this))}});$(document).on("click",function(){onFocusEvent($(this))});$("#addManagementEventsLink, #addScheduleLink, #addEventLink, #addFeeLink, #addAdjustmentLink").on("click",function(){var b=$(this).parent().siblings("table").children("tbody").children("tr").last();var a=submitBar.hasClass("fixedNav")?$(".fixedNavWrapper").outerHeight():0;if((b.offset().top-$(window).scrollTop())+b.outerHeight()>$(window).height()-a){$("html, body").animate({scrollTop:(b.offset().top-20)+"px"},"fast");return true}})}function togglePhase(a){if($("#stepsList_"+a).css("display")=="none"){$("#stepsList_"+a).slideDown(200);$("#phaseToggleImg_"+a).addClass("expandarrow");$("#phaseToggleImg_"+a).removeClass("collapsearrow");$("#phaseToggle_"+a).closest(".phaseLt").removeClass("phaseLtCollapsed")}else{$("#stepsList_"+a).slideUp(200);$("#phaseToggleImg_"+a).addClass("collapsearrow ");$("#phaseToggleImg_"+a).removeClass("expandarrow ");$("#phaseToggle_"+a).closest(".phaseLt").addClass("phaseLtCollapsed")}}function resourceMetricsViewFilterOnChange(a){var b=a.options[a.selectedIndex].value;reloadDialogPanel("list_type="+b)}function initInfoIcons(){$("div[id$='_infoIcon']").hover(function(){var a=this.id.substr(0,this.id.lastIndexOf("_"));$("#"+a+"_infoBox").show()},function(){var a=this.id.substr(0,this.id.lastIndexOf("_"));$("#"+a+"_infoBox").hide()})}var makeFooterSticky=function(){if($(".stickyFooter").length>0){return}$("#bottomButtonsPosition").addClass("stickyFooter");if($(".footerInnerWrapper").length===0){wrapFooterButtons()}};var removeStickyFooter=function(){if($(".stickyFooter").length>0){$("#bottomButtonsPosition").removeClass("stickyFooter")}};var verifyIfFooterIsToBeMadeSticky=function(){if($("#bottomButtonsPosition").length>0){var c=$(window).scrollTop();var e=$(window).height();var d=$(document).height();var a=e+c;var b=footerOriginalPosition+footerHeight}if(a<=b){makeFooterSticky()}else{removeStickyFooter()}};var wrapFooterButtons=function(){$("#bottomButtonsPosition").wrap('<div class="footerPlaceHolder"></div>');$(".footerPlaceHolder").height($("#bottomButtonsPosition").outerHeight());$("#bottomButtonsPosition").wrapInner('<div class="footerInnerWrapper"></div>');$(".footerInnerWrapper").width($(".contentWrapper").width())};var callStickyFooter=function(){$(window).load(function(){if($("#bottomButtonsPosition").length>0){footerOriginalPosition=$("#bottomButtonsPosition").offset().top;footerHeight=$("#bottomButtonsPosition").outerHeight()+40}wrapFooterButtons();verifyIfFooterIsToBeMadeSticky();$(window).scroll(function(){verifyIfFooterIsToBeMadeSticky()});$(window).resize(function(){$(".footerInnerWrapper").width($(".contentWrapper").width());verifyIfFooterIsToBeMadeSticky()});$(document).click(function(){footerOriginalPosition=$(".footerPlaceHolder").offset().top;verifyIfFooterIsToBeMadeSticky()});$('input[type="text"], input[type="checkbox"], select, textarea').each(function(){$(this).focus(function(){onFocusElement.call(this)})});$("#buttonsPosition").css("display","none")})};function onFocusElement(){var c=$(window).height();var d=$(window).scrollTop();var a=c+d;var b=$(this).offset();if(((c+d)-57)<=(b.top+32)){$("html, body").animate({scrollTop:(d+100)},800);return false}}(function(){var a;getTabSessionIdFromCookie=function(){var c=document.cookie;if(c.indexOf("=tid")<0){return""}var d=c.indexOf("=tid");if(d<0){return""}var b=c.indexOf(";",d+1);if(b>=0){return c.substring(d+1,b)}else{return c.substring(d+1,c.length)}return""};setTabSessionIdInCookie=function(b){if(typeof(ENABLE_TAB_SESSIONS)==="undefined"||ENABLE_TAB_SESSIONS===false||typeof b==="undefined"||b===null){return}document.cookie="tabsessionid="+b+";path=/"};getTabSessionId=function(){if(typeof(ENABLE_TAB_SESSIONS)==="undefined"||ENABLE_TAB_SESSIONS===false){return null}if(a){return a}a=sessionStorage.getItem("tabsessionid");if(a){return a}a="tid"+new Date().getTime();sessionStorage.setItem("tabsessionid",a);var b=getTabSessionIdFromCookie();var c={pid:b,tid:a};c[_CSRF_TOKEN_NAME]=_CSRF_TOKEN_VALUE;$.post("/newTabSession.do",c,function(){},"text");return a}})();$(function(){if(typeof(ENABLE_TAB_SESSIONS)==="undefined"||ENABLE_TAB_SESSIONS===false){return}var a=getTabSessionId();if(getTabSessionIdFromCookie()===""){setTabSessionIdInCookie(a)}$("body").on("click",function(){setTabSessionIdInCookie(getTabSessionId())});if(isIE7||isIE8){$(".listButton, .formButton").each(function(){$(this).css("width",($(this).val().length*10))})}if($(".buttonLookaLike"&&!$(".monthlyCaption .buttonLookaLike")).length>1){$(".buttonLookaLike").each(function(){if($(this).text().length>5){$(this).css({width:"50px",overflow:"hidden","text-overflow":"ellipsis"})}})}});$(window).focus(function(){setTabSessionIdInCookie(getTabSessionId())});var createMoreTab=function(){var c=$("ul.fgmenu_tab > li").size();if(c>5){$("ul.fgmenu_tab > li").each(function(d){if(d==3){$("ul.fgmenu_tab").append('<li class="TabOn moreTab"><a class="tabOffLink"  tabIndex="0"  >'+getMessage("label.more")+'&nbsp; &nbsp; <span class="linkDivExpand"></span></a></li>');$(".moreTab").append("<ul class='moreTabUl'>")}if(d>3){$(".moreTabUl").append(this)}});$(".moreTab").append("</ul>");$("li.moreTab").on(function(){if($(".moreTab > a.tabOffLink").width()>=185){$(".moreTabUl").css("width",$(".moreTab > a.tabOffLink").width()+100)}});if($("li.moreTab").find(".TabOff").length>0){var b=$("li.moreTab a").first().text();var a=$(".TabOff a").text();$("li.moreTab a").first().html(a+'<span style="color:#cccccc"> &nbsp; | &nbsp; </span><span style="color:#666666">'+b+'</span><span class="linkDivExpand"></span>');$(".TabOff").removeClass("TabOff").addClass("TabOn");$(".tabOnLink").removeClass("tabOnLink").addClass("tabOffLink");$("li.moreTab").addClass("TabOff").removeClass("TabOn")}$(".moreTab > a.tabOffLink").click(function(){if($("ul.moreTabUl").is(":hidden")){$("ul.moreTabUl").slideDown(200);hidePdfs()}else{$("ul.moreTabUl").slideUp(200);showPdfs()}});$(".moreTab > a.tabOffLink").keypress(function(f){var d=f.which;if(d==13){$("a.tabOffLink").click()}})}};function ie8Style(){if(isIE7||isIE8){$("ul#questionList li > table.formGroupTable").css("border","1px solid #ffffff");$("ul#questionList li > table.formGroupTable tr td:nth-child(1)").css({"border-top":"1px solid #ffffff","border-bottom":"1px solid #ffffff"});$("ul#questionList li > table.formGroupTable tr td:nth-child(2)").css("border-top","1px solid #ffffff").css("border-bottom","1px solid #ffffff");$("ul#questionList li > table.formGroupTable tr td:nth-child(3)").css({"text-align":"center","border-top":"1px solid #ffffff","border-bottom":"1px solid #ffffff","border-right":"1px solid #cccccc"});$("ul#questionList li > table.formGroupTable tr td:nth-child(4)").css("text-align","center");$("ul#questionList li > table.formGroupTable tr:first-child td:nth-child(4)").css("border-top","1px solid #ffffff");$("ul#questionList li > table.formGroupTable tr:first-child td:nth-child(5)").css("border-top","1px solid #ffffff");$("ul#questionList li > table.formGroupTable tr:last-child td:nth-child(4)").css("border-bottom","1px solid #ffffff");$("ul#questionList li > table.formGroupTable tr:last-child td:nth-child(5)").css("border-bottom","1px solid #ffffff");$("table#additionalFieldsTbl tr td > table.box").css("border-width","0 0 0 1px");$("table#additionalFieldsTbl tr td > table.box tr:first-child td").css("border-top","none");$("table#additionalFieldsTbl tr td > table.box tr:last-child td").css("border-bottom","none")}}sqlTraceListPage=function(b){if(typeof(_sqlProfilerEnabled)!="undefined"&&_sqlProfilerEnabled===true){var a="/sql_trace_list.jsp?";a+="pathName="+window.location.pathname;if(typeof b!=="undefined"){a+="&tabName="+b}fgShowModalDialog(a,"",700,400);return false}};renderSqlProfilerSwitch=function(){if(_sqlProfilerEnabled===true){$("#showQueryMenuTitle").addClass("sql-profiler-on")}else{$("#showQueryMenuTitle").removeClass("sql-profiler-on")}};sqlProfilerRequest=function(a){if(typeof(_sqlProfilerEnabled)!="undefined"){var b={profileSql:a,ajax:true};if(typeof(_CSRF_TOKEN_NAME)!="undefined"&&typeof(_CSRF_TOKEN_VALUE)!="undefined"){b[_CSRF_TOKEN_NAME]=_CSRF_TOKEN_VALUE}$.post("/sqlProfiler.jsp",b,function(c){_sqlProfilerEnabled=(c.indexOf("SQL Profiling is On")>=0);renderSqlProfilerSwitch()},"html")}};if(typeof $!="undefined"){$(function(){$('input.listButton[name$="_search"]').bind("click",function(){setFormValue($(this).parents("form").attr("name"),"ttFilterButtonClicked","true")});CSRFupdateTags();CSRFupdateForms();if(typeof(_sqlProfilerEnabled)!="undefined"){$("#showQueryMenuTitle .onBtn").click(function(){sqlProfilerRequest(true)});$("#showQueryMenuTitle .offBtn").click(function(){sqlProfilerRequest(false)});$("#showQueryMenuTitle .showQuery").click(function(){sqlTraceListPage("sql_trace_list")});renderSqlProfilerSwitch()}var a;if(("__cidAttrName" in window)==false){return}a=__cidAttrName;var b=window[__cidAttrName];$("form").each(function(){var d=$(this);if(d.find("input[name="+a+"]").length>0){return}var c=$('<input type="hidden"/>');c.attr("name",a);c.attr("value",b);c.appendTo(d)});if($(".startDate").length>0){$(".endDate").find(".label").css("height",$(".startDate").find(".label").height())}});$("form,input[type=password],input[type=text],textarea,select").attr("autocomplete","off")}function exploreFeePricingRFX(b,c,d){if(b.name=="rfxResponseForm"){submitActionAjax(b,c,"/rfx_response_form.do?sequence="+d,exploreFeePricingRedirect);var a=document.getElementById("action_htmlId");a.parentNode.removeChild(a)}else{if(b.name=="payTermsFeeForm"){submitActionAjax(b,c,"/pay_terms_unit_response_form.do?sequence="+d,exploreFeePricingRedirect);var a=document.getElementById("action_htmlId");a.parentNode.removeChild(a)}else{submitActionAjax(b,c,"/rfx_form.do?sequence="+d,exploreFeePricingRedirect);var a=document.getElementById("action_htmlId");a.parentNode.removeChild(a)}}}function exploreFeePricingRedirect(){showDialogPanel("/explore_fee_pricing.do?","",true,false,true)}function calculateFeeRateAmount(b,c,d){var a=document.createElement("input");a.setAttribute("type","hidden");a.setAttribute("name","calculateFeeRateAmount_"+d);a.setAttribute("id","calculateFeeRateAmount_"+d);a.setAttribute("value",d);b.appendChild(a);submitActionForm(b,c)}function isGoodDateWithFormat(c,a){var b=c.value;if(a.indexOf("/")!=-1){var d=b.split("/");if(d.length!=3){return false}if(isNaN(d[0])||isNaN(d[1])||isNaN(d[2])){return false}if(d[0].length>4||d[1].length>4||d[2].length>4){return false}return true}else{if(a.indexOf("-")!=-1){var d=b.split("-");if(d.length!=3){return false}if(isNaN(d[0])||isNaN(d[1])||isNaN(d[2])){return false}if(d[0].length>4||d[1].length>4||d[2].length>4){return false}return true}else{return false}}}function applyTimePicker(a,c,b){c?$("input."+a+"").timepicker({timeFormat:"h:i A"}):$("input."+a+"").timepicker({timeFormat:"H:i"});$("input."+a+"").attr("aria-label",b)}function initDuration(b){var a=["00:15","00:30","00:45","01:00","01:30","02:00","02:30","03:00"];$("input[name="+b+"]").autocomplete({source:a,minLength:0});$("input[name="+b+"]").click(function(){$("input[name="+b+"]").autocomplete("search","")})}function reloadWithoutPostData(b){var a=addCSRFTokenToURL(b);window.location.href=a}function showValueVersionDiffs(d){var a=$(document.getElementById(d));var c=a.find(".ver-0");var b=a.find(".ver-1");if(b.length===0||c.text()===b.text()){b.remove();return}b.addClass("oldValue");c.addClass("newValue");b.insertBefore(c)}function showTableDiffs(q){var a=q.id,g=q.tableSelector,m=q.rowSelectorCallback,d=q.holderSelector,p=q.tableEndSelector;var c=$(document.getElementById(a));var k=c.find(".ver-0");var f=c.find(".ver-1");var n=k.find(g);if(f.length===0||k.text()===f.text()||(k.find(".grid").length>0&&k.find(".gridCFValue").val()===f.find(".gridCFValue").val())){f.remove();n.find(".diff-part").each(function(){var r=$(this);r.find(".diff-part-name").text("")});n.find("tr.row").each(function(){$(this).addClass("diff-not-modified")});return}var b=f.find(g);if(typeof m==="undefined"){m=function(s){var r=[];s.find("th[scope=row]").each(function(){r.push($(this).parents(".ver-1 "+g+" tr"))});return $(r)}}m.call(this,b).each(function(){$(this).addClass("diff-deleted")});n.find(".diff-part").each(function(){var t=$(this);var s=null;var r=t.find(".diff-part-name").attr("id");var v=t.find(".diff-part-value");var u=b.find(".diff-part."+r+" .diff-part-value");if(u.length===0){s=v.parents(".ver-0 "+g+" tr").addClass("diff-new-record")}else{if(v.text()===u.text()){s=v.parents(".ver-0 "+g+" tr");if(s.hasClass("diff-modified")===false){s.addClass("diff-not-modified")}u.parents(".ver-1 "+g+" tr").addClass("diff-displayed")}else{s=v.parents(".ver-0 "+g+" tr").removeClass("diff-not-modified").addClass("diff-modified");u.parents(".ver-1 "+g+" tr").addClass("diff-displayed");u.addClass("diff-value-modified");v.addClass("diff-value-not-modified");u.insertBefore(t)}}});b.find(".diff-displayed").remove();var l=m.call(this,b);var e=n.find("tbody:first");var o;if(l.length>0){if(typeof p!=="undefined"&&n.find(p).length>0){o=n.find(p)}l.each(function(){var r=$(this);if(typeof o!=="undefined"&&o.length>0){e.append(r[0])}else{e.append(r[0])}})}if(m.call(this,b).length===0){if(typeof d!=="undefined"){f.find(d).remove()}else{f.remove()}}}function saveMeetingSchedule1(a,b,c,e){$("#action").val(getMessage("label.continue"));var d={type:c,action:e};var f=$('[name="'+b+'"]').serialize();$.post(a,f+"&"+$.param(d),function(g){defaultModalPanelFormCb(g)})}function maintenanceWarning(a,d,b,e){var f="<div id='maintenanceWarningCurtain'><div class='body'>&nbsp;</div></div>";var c='<div id="maintenanceWarningModal" class="hidden maintenanceWarningModal">';c+='<div class="body dialogPanel">';c+='<div class="maintenanceWarningHeader clearfix">';c+='<h2 id="maintenanceWarningModalTitle" class="fl">';c+=getMessage("label.appMaintWarningSubject");c+="</h2>";c+='<div class="fr">';c+='<a href="#" id="closeMaintenanceModal" class="closeMaintenanceModal spritepan cross" title="Close"></a>';c+="</div>";c+="</div>";c+='<div class="maintenanceWarningBody clearfix">';if(b==1){c+='<label id="maintenanceTimeoutText">'+(getMessage("label.appMaintWarningShutdownMessage")).replace("{0}",e)+"</label>"}else{c+='<label id="maintenanceTimeoutText">'+(getMessage("label.appMaintWarningRestartMessage")).replace("{0}",e)+"</label>"}c+='<div style="height:25px;"></div>';c+='<div class="maintActionButtonsArea">';c+='<input type="button" id="maintenanceExtendButton" class="formRightButton" value="'+getMessage("label.keepWorking")+'" />';c+='<input type="button" id="logoutButton" class="formRightButton" value="'+getMessage("label.logout")+'"/>';c+="</div>";c+="</div>";c+="</div>";c+="</div>";$("body").append(f).append(c);$("#maintenanceWarningCurtain").show();$("#maintenanceWarningModal").show();if(isIE){$("#pdfDiv").css("visibility","hidden")}$("#closeMaintenanceModal").off("click").on("click",function(){$("#maintenanceWarningCurtain").hide();$("#maintenanceWarningModal").hide();if(isIE){$("#pdfDiv").css("visibility","")}var g="/maintenance_warning.do";g=addCSRFTokenToURL(g);g=addRandParamToURL(g);$.get(g,closeDialogPanel)});$("#maintenanceExtendButton").off("click").on("click",function(){$("#maintenanceWarningCurtain").hide();$("#maintenanceWarningModal").hide();if(isIE){$("#pdfDiv").css("visibility","")}var g="/maintenance_warning.do";g=addCSRFTokenToURL(g);g=addRandParamToURL(g);$.get(g,closeDialogPanel)});$("#logoutButton").off("click").on("click",function(){window.location.assign("/logout.jsp")})}function addViewAllErrors(){if($(".allFormErrors").length>0&&$(".allFormErrors").css("display")=="none"){$("#formBody > span.globalFormErrors > div > div > div").append('<span class="viewAllErrorsLinkSpan">  <a href="#" class="viewAllErrorsLink"  tabIndex="0"  > '+getMessage("label.viewAllErrorsMsg")+"&raquo;</a></span>");$(".allFormErrors").addClass("allFormErrorsWrapper");$("div.errorDiv").attr({tabindex:"-1",role:"alert"}).focus();$(".allFormErrorsWrapper > .errorDiv").prepend('<span class="fr"><a href="#" class="closeAllErrorsLink removerSmall" tabIndex="0"  title="'+getMessage("label.closeAllErrorsMsg")+'"></a></span>');$(".allFormErrorsWrapper > .warnDiv").prepend('<span class="fr"><a href="#" class="closeAllErrorsLink removerSmall" tabIndex="0"  title="'+getMessage("label.closeAllErrorsMsg")+'"></a></span>');$("a.viewAllErrorsLink").click(function(){$(".allFormErrorsWrapper").toggleClass("allFormErrors");$("a.closeAllErrorsLink.removerSmall").focus();$("div.errorDiv").attr({tabindex:"-1",role:"alert"}).focus();$("span.viewAllErrorsLink").hide()});$("a.closeAllErrorsLink").click(function(){$(".allFormErrorsWrapper").toggleClass("allFormErrors");$("a.viewAllErrorsLink").focus();$("span.viewAllErrorsLink").show()});var a=$("span.viewAllErrorsLinkSpan").length;if(a>1){$("span.viewAllErrorsLinkSpan").remove()}}}function showPageableItems(){var a=100;var b=$("tbody.pageable");b.each(function(){$(this).find(">tr.page-row.hidden").each(function(c){if(c<a){$(this).removeClass("hidden")}})});if(b.find(">tr.page-row.hidden").length>0){setTimeout(showPageableItems,500)}};